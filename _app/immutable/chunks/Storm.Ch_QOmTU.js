import"./disclose-version.BDr9Qe-U.js";import{p as j,c as O,s as p,f as w,i as S,g as o,j as M,h as G}from"./runtime.BwPB2u9i.js";import{j as L,g as N,p as P,t as V,a as $,m as B,o as D,f as J}from"./render.1wBZSvLF.js";import{o as K}from"./main-client.C7WhMmO2.js";import{b as Q}from"./paths.C3LiQNRe.js";function U(g,v,s,r,f){p(v,!0);const c=["Timekeeper","It's raining outside.","and the raindrops...","*Gasp*","Eeeek!"],u=1;function n(l,m,d){return l<=m&&l>=d}function i(l){const m=performance.now(),d=l.length*60/u;function h(){const x=window.requestAnimationFrame(h),b=performance.now(),y=Math.trunc(l.length*(b-m)/d);o(s)!==l?p(s,l.slice(0,y)):window.cancelAnimationFrame(x)}h()}function t(){p(r,window.requestAnimationFrame(t)),o(v)?(n(o(f),8e3,6e3)&&i(c[0]),n(o(f),6e3,4e3)&&i(c[1]),n(o(f),4e3,2e3)&&i(c[2]),n(o(f),2e3,500)&&i(c[3]),n(o(f),500,0)&&i(c[4])):(cancelAnimationFrame(o(r)),setTimeout(l=>{p(s,""),l.blur()},2e3,g.target))}t()}var X=J('<div class="rain-container fixed inset-0 -z-10 pointer-events-none"></div> <div class="fixed top-6 z-10 right-10 md:right-20 flex items-center gap-2"><span class="crimson-text-regular text-sm"> </span> <button type="button" class="opacity-20 outline-none hover:opacity-100 focus:opacity-100 transition-opacity"><img alt="Vertin" class="w-10 h-10 rounded-full overflow-hidden pointer-events-none"></button></div>',!0);function ae(g,v){j(v,!0);let s,r,f,c,u,n=w(8e3),i=0,t=[],l=.5,m=300,d=w(!1),h=w(""),x=w(0);function b(e,a){const R=a.clientWidth,W=a.clientHeight;e&&(f=e.width=Math.max(500,R),c=e.height=Math.max(320,W)),a.style.left=a.style.right=a.style.top=a.style.bottom="0"}function y(){t=[];for(let e=m-1;e>=0;e--)t.push({x:1,y:0,z:0});for(let e=0;e<m;e++)t[e].x=Math.floor(Math.random()*document.documentElement.clientWidth+9),t[e].y=Math.floor(Math.random()*s.clientHeight+9),t[e].z=Math.floor(Math.random()*2+1),t[e].w=Math.floor(Math.random()*3+2)}function F(){for(let e=0;e<m;e++){t[e].y<=0&&(t[e].y+=s.clientHeight),t[e].x<-10?t[e].x+=f:t[e].y-=Number(t[e]?.w??1)*l;const a=r.createRadialGradient(250,450,140,250,300,600);localStorage.getItem("ots:theme")==="dark"?(a.addColorStop(0,"rgba(100, 170, 160, 0.2)"),a.addColorStop(.1,"rgba(100, 160, 160, 0.12)"),a.addColorStop(.2,"rgba(100, 150, 150, 0.1)"),a.addColorStop(1,"rgba(100, 140, 140, .08)")):a.addColorStop(0,"rgba(0, 0, 0, 0.2)"),r.fillStyle=a,r.fillRect(t[e].x,t[e].y,t[e].z,4)}}function H(e){o(d)&&(i=0,e>350?i=(500-e)*.004:e<350&&e>250?i=(e-250)*.006:e<250&&e>=100?i=(250-e)*.004:e<100&&e>=0&&(i=e*.006,p(d,!1),p(n,8e3)),i>0&&(r.fillStyle=localStorage.getItem("ots:theme")==="dark"?`rgba(250, 250, 245, ${i})`:`rgba(0, 0, 0, ${i})`,r.fillRect(0,0,f,c)))}function C(){const e=document.querySelector("canvas");e&&b(e,s),o(d)&&(o(n)<0?p(n,8e3):p(n,o(n)-15)),u=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",r.fillStyle=u,r.fillRect(0,0,f,c),F(),o(n)<500&&H(o(n)),window.requestAnimationFrame(C)}K(()=>{const e=document.createElement("div"),a=document.createElement("canvas");u=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",new ResizeObserver(W=>{t=[],y()}).observe(s),r=a.getContext("2d",{alpha:!1}),s.appendChild(e),e.style.position="fixed",e.appendChild(a),b(a,s),y(),C()});var k=D(g,!0,X),_=G(k);N(_,e=>s=e);var I=S(S(_)),z=M(I),q=M(z),A=S(S(z)),E=M(A);P(E,"src",`${B(Q)}/img/character/sonetto.webp`),V(q,()=>o(h)),A.__click=[U,d,h,x,n],$(g,k),O()}L(["click"]);export{ae as S};
