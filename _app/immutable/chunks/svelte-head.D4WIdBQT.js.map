{"version":3,"file":"svelte-head.D4WIdBQT.js","sources":["../../../../../../node_modules/.pnpm/svelte@5.0.0-next.164/node_modules/svelte/src/internal/client/dom/blocks/svelte-head.js"],"sourcesContent":["import { hydrate_anchor, hydrate_nodes, hydrating, set_hydrate_nodes } from '../hydration.js';\nimport { empty } from '../operations.js';\nimport { block } from '../../reactivity/effects.js';\nimport { HYDRATION_END, HYDRATION_START } from '../../../../constants.js';\n\n/**\n * @type {Node | undefined}\n */\nlet head_anchor;\n\nexport function reset_head_anchor() {\n\thead_anchor = undefined;\n}\n\n/**\n * @param {(anchor: Node) => import('#client').Dom | void} render_fn\n * @returns {void}\n */\nexport function head(render_fn) {\n\t// The head function may be called after the first hydration pass and ssr comment nodes may still be present,\n\t// therefore we need to skip that when we detect that we're not in hydration mode.\n\tlet previous_hydrate_nodes = null;\n\tlet was_hydrating = hydrating;\n\n\t/** @type {Comment | Text} */\n\tvar anchor;\n\n\tif (hydrating) {\n\t\tprevious_hydrate_nodes = hydrate_nodes;\n\n\t\t// There might be multiple head blocks in our app, so we need to account for each one needing independent hydration.\n\t\tif (head_anchor === undefined) {\n\t\t\thead_anchor = /** @type {import('#client').TemplateNode} */ (document.head.firstChild);\n\t\t}\n\n\t\twhile (\n\t\t\thead_anchor.nodeType !== 8 ||\n\t\t\t/** @type {Comment} */ (head_anchor).data !== HYDRATION_START\n\t\t) {\n\t\t\thead_anchor = /** @type {import('#client').TemplateNode} */ (head_anchor.nextSibling);\n\t\t}\n\n\t\thead_anchor = /** @type {import('#client').TemplateNode} */ (hydrate_anchor(head_anchor));\n\t\thead_anchor = /** @type {import('#client').TemplateNode} */ (head_anchor.nextSibling);\n\t} else {\n\t\tanchor = document.head.appendChild(empty());\n\t}\n\n\ttry {\n\t\tblock(() => render_fn(anchor));\n\t} finally {\n\t\tif (was_hydrating) {\n\t\t\tset_hydrate_nodes(/** @type {import('#client').TemplateNode[]} */ (previous_hydrate_nodes));\n\t\t}\n\t}\n}\n"],"names":["head_anchor","reset_head_anchor","head","render_fn","previous_hydrate_nodes","was_hydrating","hydrating","anchor","hydrate_nodes","HYDRATION_START","hydrate_anchor","empty","block","set_hydrate_nodes"],"mappings":"wHAQA,IAAIA,EAEG,SAASC,GAAoB,CACnCD,EAAc,MACf,CAMO,SAASE,EAAKC,EAAW,CAG/B,IAAIC,EAAyB,KACzBC,EAAgBC,EAGpB,IAAIC,EAEJ,GAAID,EAAW,CAQd,IAPAF,EAAyBI,EAGrBR,IAAgB,SACnBA,EAA6D,SAAS,KAAK,YAI3EA,EAAY,WAAa,GACDA,EAAa,OAASS,GAE9CT,EAA6DA,EAAY,YAG1EA,EAA6DU,EAAeV,CAAW,EACvFA,EAA6DA,EAAY,WAC3E,MACEO,EAAS,SAAS,KAAK,YAAYI,EAAO,CAAA,EAG3C,GAAI,CACHC,EAAM,IAAMT,EAAUI,CAAM,CAAC,CAC/B,QAAW,CACLF,GACHQ,EAAmET,CAAsB,CAE1F,CACF","x_google_ignoreList":[0]}