import"./disclose-version.BDr9Qe-U.js";import{F as O,p as j,x as G,K,j as L,e as N,f as P,s as c,m as x,q as S,I as V,g as o,v as C,o as $,n as B,w as D}from"./runtime.ZSJ01HAk.js";import{o as J}from"./main-client.BHcVed8f.js";import{b as Q}from"./paths.9X1kh8MV.js";function U(v,b,u,h,f){c(b,!0);const d=["Timekeeper","It's raining outside.","and the raindrops...","*Gasp*","Eeeek!"],y=1;function i(s,m,r){return s<=m&&s>=r}function n(s){const m=performance.now(),r=s.length*60/y;function l(){const t=window.requestAnimationFrame(l),M=performance.now(),g=Math.trunc(s.length*(M-m)/r);o(u)!==s?c(u,s.slice(0,g)):window.cancelAnimationFrame(t)}l()}function p(){c(h,window.requestAnimationFrame(p)),o(b)?(i(o(f),8e3,6e3)&&n(d[0]),i(o(f),6e3,4e3)&&n(d[1]),i(o(f),4e3,2e3)&&n(d[2]),i(o(f),2e3,500)&&n(d[3]),i(o(f),500,0)&&n(d[4])):(cancelAnimationFrame(o(h)),setTimeout(s=>{c(u,""),s.blur()},2e3,v.target))}p()}var X=D('<div class="rain-container fixed inset-0 -z-10 pointer-events-none"></div> <div class="fixed top-6 z-10 right-10 md:right-20 flex items-center gap-2"><span class="crimson-text-regular text-sm"> </span> <button type="button" class="opacity-20 outline-none hover:opacity-100 focus:opacity-100 transition-opacity"><img alt="Vertin" class="w-10 h-10 rounded-full overflow-hidden pointer-events-none"></button></div>',!0);function te(v,b){j(b,!0);function u(e,a){const R=a.clientWidth,W=a.clientHeight;e&&(p=e.width=Math.max(500,R),s=e.height=Math.max(320,W)),a.style.left=a.style.right=a.style.top=a.style.bottom="0"}function h(){t=[];for(let e=g-1;e>=0;e--)t.push({x:1,y:0,z:0});for(let e=0;e<g;e++)t[e].x=Math.floor(Math.random()*document.documentElement.clientWidth+9),t[e].y=Math.floor(Math.random()*i.clientHeight+9),t[e].z=Math.floor(Math.random()*2+1),t[e].w=Math.floor(Math.random()*3+2)}function f(){for(let e=0;e<g;e++){t[e].y<=0&&(t[e].y+=i.clientHeight),t[e].x<-10?t[e].x+=p:t[e].y-=Number(t[e]?.w??1)*M;const a=n.createRadialGradient(250,450,140,250,300,600);localStorage.getItem("ots:theme")==="dark"?(a.addColorStop(0,"rgba(100, 170, 160, 0.2)"),a.addColorStop(.1,"rgba(100, 160, 160, 0.12)"),a.addColorStop(.2,"rgba(100, 150, 150, 0.1)"),a.addColorStop(1,"rgba(100, 140, 140, .08)")):a.addColorStop(0,"rgba(0, 0, 0, 0.2)"),n.fillStyle=a,n.fillRect(t[e].x,t[e].y,t[e].z,4)}}function d(e){o(w)&&(l=0,e>350?l=(500-e)*.004:e<350&&e>250?l=(e-250)*.006:e<250&&e>=100?l=(250-e)*.004:e<100&&e>=0&&(l=e*.006,c(w,!1),c(r,8e3)),l>0&&(n.fillStyle=localStorage.getItem("ots:theme")==="dark"?`rgba(250, 250, 245, ${l})`:`rgba(0, 0, 0, ${l})`,n.fillRect(0,0,p,s)))}function y(){const e=document.querySelector("canvas");e&&u(e,i),o(w)&&(o(r)<0?c(r,8e3):c(r,o(r)-15)),m=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",n.fillStyle=m,n.fillRect(0,0,p,s),f(),o(r)<500&&d(o(r)),window.requestAnimationFrame(y)}let i,n,p,s,m,r=x(8e3),l=0,t=[],M=.5,g=300,w=x(!1),k=x(""),I=x(0);J(()=>{const e=document.createElement("div"),a=document.createElement("canvas");m=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",new ResizeObserver(W=>{t=[],h()}).observe(i),n=a.getContext("2d"),i.appendChild(e),e.style.position="fixed",e.appendChild(a),u(a,i),h(),y()});var _=$(v,!0,X),z=B(_);G(z,e=>i=e);var q=S(S(z)),A=C(q),H=C(A),F=S(S(A)),E=C(F);K(E,"src",`${V(Q)}/img/character/sonetto.webp`),L(H,()=>o(k)),F.__click=[U,w,k,I,r],N(v,_),P()}O(["click"]);export{te as S};
