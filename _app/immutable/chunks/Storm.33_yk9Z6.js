import"./disclose-version.Bg9kRutz.js";import{m as N,c as j,p as L,t as P,a as V,b as B,n as p,d as D,o as x,g as S,q as J,r as E,u as o,e as k,s as K,f as Q}from"./custom-element.Bd7BP0Qt.js";import{s as U}from"./attributes.Ch3uYejW.js";import{s as H,t as X}from"./class.DJa49N0K.js";import{b as Y}from"./this.CecjLYcE.js";import{p as Z}from"./props.Cda_5gBt.js";import{o as T}from"./index-client.CZUoncps.js";import{b as ee}from"./paths.BtfFdbie.js";function te(M,h,m,s,n){p(h,!0);const l=["Timekeeper","It's raining outside.","and the raindrops...","*Gasp*","Eeeek!"],g=1;function c(t,v,u){return t<=v&&t>=u}function i(t){const v=performance.now(),u=t.length*60/g;function f(){const b=window.requestAnimationFrame(f),_=performance.now(),y=Math.trunc(t.length*(_-v)/u);o(m)!==t?p(m,E(t.slice(0,y))):window.cancelAnimationFrame(b)}f()}function r(){p(s,E(window.requestAnimationFrame(r))),o(h)?(c(o(n),8e3,6e3)&&i(l[0]),c(o(n),6e3,4e3)&&i(l[1]),c(o(n),4e3,2e3)&&i(l[2]),c(o(n),2e3,500)&&i(l[3]),c(o(n),500,0)&&i(l[4])):(cancelAnimationFrame(o(s)),setTimeout(t=>{p(m,""),t.blur()},2e3,M.target))}r()}var ae=D('<div></div> <div><span class="dialouge crimson-text-regular text-sm"> </span> <button type="button" class="outline-none hover:opacity-100 focus:opacity-100 transition-opacity"><img alt="Vertin" class="w-10 h-10 rounded-full overflow-hidden pointer-events-none"></button></div>',1);function oe(M,h){L(h,!0);let m=Z(h,"class",7,""),s,n,l,g,c,i=x(8e3),r=0,t=[],v=.5,u=300,f=x(!1),b=x(""),_=x(0);function y(e,a){const d=a.clientWidth,q=a.clientHeight;e&&(l=e.width=Math.max(500,d),g=e.height=Math.max(320,q)),a.style.left=a.style.right=a.style.top=a.style.bottom="0"}function z(){t=[];for(let e=u-1;e>=0;e--)t.push({x:Math.floor(Math.random()*document.documentElement.clientWidth+9),y:0,z:0});for(let e=0;e<u;e++)t[e].x=Math.floor(Math.random()*document.documentElement.clientWidth+9),t[e].y=Math.floor(Math.random()*s.clientHeight+9),t[e].z=Math.floor(Math.random()*2+1),t[e].w=Math.floor(Math.random()*3+2)}function I(){var e;for(let a=0;a<u;a++){t[a].y<=0&&(t[a].y+=s.clientHeight),t[a].x<-10?t[a].x+=l:t[a].y-=Number(((e=t[a])==null?void 0:e.w)??1)*v;const d=n.createRadialGradient(250,450,140,250,300,600);localStorage.getItem("ots:theme")==="dark"?(d.addColorStop(0,"rgba(100, 170, 160, 0.2)"),d.addColorStop(.1,"rgba(100, 160, 160, 0.12)"),d.addColorStop(.2,"rgba(100, 150, 150, 0.1)"),d.addColorStop(1,"rgba(100, 140, 140, .08)")):d.addColorStop(0,"rgba(0, 0, 0, 0.2)"),n.fillStyle=d,n.fillRect(t[a].x,t[a].y,t[a].z,4)}}function O(e){o(f)&&(r=0,e>350?r=(500-e)*.004:e<350&&e>250?r=(e-250)*.006:e<250&&e>=100?r=(250-e)*.004:e<100&&e>=0&&(r=e*.006,p(f,!1),p(i,8e3)),r>0&&(n.fillStyle=localStorage.getItem("ots:theme")==="dark"?`rgba(250, 250, 245, ${r})`:`rgba(0, 0, 0, ${r})`,n.fillRect(0,0,l,g)))}function W(){const e=document.querySelector("canvas");e&&y(e,s),o(f)&&(o(i)<0?p(i,8e3):p(i,o(i)-15)),c=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",n.fillStyle=c,n.fillRect(0,0,l,g),I(),o(i)<500&&O(o(i)),window.requestAnimationFrame(W)}T(()=>{const e=document.createElement("div"),a=document.createElement("canvas");c=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",new ResizeObserver(q=>{t=[],z()}).observe(s),n=a.getContext("2d",{alpha:!1}),s.appendChild(e),e.style.position="fixed",e.appendChild(a),y(a,s),z(),W()});var A=ae(),C=Q(A);Y(C,e=>s=e,()=>s);var R=S(S(C,!0)),F=k(R),$=k(F),w=S(S(F,!0));w.__click=[te,f,b,_,i];var G=k(w);return U(G,"src",`${ee??""}/img/character/sonetto.webp`),P(()=>{H(C,`rain-container fixed inset-0 -z-10 pointer-events-none ${m()??""}`),H(R,`fixed top-6 z-10 right-10 md:right-20 flex items-center gap-2 ${m()??""}`),K($,o(b)),w.disabled=o(f),X(w,"opacity-20",!o(f))}),V(M,A),B({get class(){return m()},set class(e=""){m(e),J()}})}N(["click"]);j(oe,{class:{}},[],[],!0);export{oe as S};
//# sourceMappingURL=Storm.33_yk9Z6.js.map
