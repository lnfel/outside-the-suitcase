import"../chunks/disclose-version.BDr9Qe-U.js";import{p as E,r as z,c as N,s as p,g as a,f as y,e as Q,j as u,i as t,m as D,k as V,l as W,h as X}from"../chunks/runtime.BGm8LMIg.js";import{j as O,k as Y,g as tt,d as A,e as R,f as M,l as et,m as c,n as b,h as at,t as ot,p as j,s as st,u as rt,q as G,r as I,a as nt,o as lt}from"../chunks/render.Dki2-gLd.js";/* empty css                    */import{p as ct}from"../chunks/stores.BhwD-l3n.js";import{b as l}from"../chunks/paths.PlV-g5mt.js";import{c as it,o as F}from"../chunks/main-client.D0lBBaYG.js";import"../chunks/Storm.CEFInWIz.js";const dt=!1,Ct=Object.freeze(Object.defineProperty({__proto__:null,ssr:dt},Symbol.toStringTag,{value:"Module"}));var ut=M('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/theme-toggles@4.10.1/css/classic.min.css">'),pt=M('<button type="button" title="Toggle theme" aria-label="Toggle theme"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="1.5rem" height="1.5rem" fill="currentColor" stroke-linecap="round" class="theme-toggle__classic pointer-events-none group-data-[state=enabled]:text-amber-300" viewBox="0 0 32 32"><clipPath id="theme-toggle__classic__cutout"><path d="M0-5h30a1 1 0 0 0 9 13v24H0Z"></path></clipPath><g clip-path="url(#theme-toggle__classic__cutout)"><circle cx="16" cy="16" r="9.34"></circle><g stroke="currentColor" stroke-width="1.5"><path d="M16 5.5v-4"></path><path d="M16 30.5v-4"></path><path d="M1.5 16h4"></path><path d="M26.5 16h4"></path><path d="m23.4 8.6 2.8-2.8"></path><path d="m5.7 26.3 2.9-2.9"></path><path d="m5.8 5.8 2.8 2.8"></path><path d="m23.4 23.4 2.9 2.9"></path></g></g></svg> <span class="text-slate-800 dark:text-white group-hover:text-tuscany-600 group-focus:text-tuscany-600 md:sr-only"> </span></button>');function gt(s,e){E(e,!0);let f=Q(e,"class");const n=it(),m="delay-500";let r=y("dark"),o=y(!1),g;F(()=>{p(o,localStorage.getItem("ots:theme")==="dark"),p(r,a(o)?"dark":"light"),a(o)?g.dataset.state="enabled":delete g.dataset.state});function k(d){d.stopPropagation(),setTimeout(()=>{p(o,!a(o)),p(r,a(o)?"dark":"light"),a(o)?d.currentTarget.dataset.state="enabled":delete d.currentTarget.dataset.state,localStorage.setItem("ots:theme",a(r)),localStorage.getItem("ots:theme")==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Number(m.replace("delay-",""))),n("toggle",a(r))}var i=R(s,!0,pt);Y(d=>{var h=R(d,!0,ut);A(d,h)}),tt(i,d=>g=d);var _=u(i),v=t(t(_)),w=u(v);z(()=>{et(i,`theme-toggle group flex items-center gap-2 text-slate-800 transition-colors delay-500 outline-none ${c(f())}`),b(i,"theme-toggle--toggled",a(o)),at(w,`Switch to ${c(a(r)==="dark"?"light":"dark")} mode`)}),i.__click=k,A(s,i),N()}O(["click"]);async function ht(s,e,f,n,m,r,o){s.stopPropagation(),p(e,!a(e)),!a(f)&&a(e)&&(p(n,"loading"),await m()),a(e)&&a(r)?(p(n,"playing"),a(r).play(),document.querySelector("#waveform path animate")?.setAttribute("values",a(o)),document.querySelector("#waveform circle")?.classList.add("hidden")):!a(e)&&a(r)&&(p(n,"paused"),document.querySelector("#waveform path animate")?.setAttribute("values",""),document.querySelector("#waveform circle")?.classList.remove("hidden"),a(r).pause())}var mt=M('<button type="button" class="outline-none flex items-center gap-2 md:static hover:text-tuscany-600 focus:text-tuscany-600"><svg class="round w-6 h-6" id="waveform"><defs><radialGradient id="rgrad" cx="50%" cy="50%" r="50%"><stop offset="0%" style="stop-color:rgb(0,255,10);stop-opacity:1.00"></stop><stop offset="25%" style="stop-color:rgb(0,188,212);stop-opacity:0.70"></stop><stop offset="50%" style="stop-color:rgb(238,130,238);stop-opacity:1.00"></stop><stop offset="75%" style="stop-color:rgb(103,58,183);stop-opacity:0.70"></stop><stop offset="100%" style="stop-color:rgb(233,30,99);stop-opacity:1.00"></stop></radialGradient></defs><circle fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" cx="12" cy="12" r="10"></circle><path style="stroke:url(#rgrad); stroke-width: 1px; fill: none;"><animate attributeName="d" dur="2.54s" repeatCount="indefinite" calcMode="linear" values=""></animate></path></svg> <span class="md:sr-only"> </span></button>');function ft(s,e){E(e,!0);const f={idle:"Listen to the melody",loading:"Searching for the source",playing:"Snap back to reality",paused:"Listen again"};let n=y(!1),m=y("idle"),r=y(!1),o=y(void 0),g=y("");async function k(){const h=await(await fetch(`${window.location.origin}${l}/audio/reverse-bgm.mp3`)).arrayBuffer();structuredClone(h);const T=URL.createObjectURL(new Blob([h],{type:"audio/mpeg"})),x=await new AudioContext().decodeAudioData(h);if(p(o,new Audio),p(r,!0),x){D(o,a(o).loop=!0),D(o,a(o).src=T);const S=await fetch(`${l}/api/waveform-path`);p(g,(await S.json()).path)}}var i=R(s,!0,mt),_=u(i),v=t(t(_)),w=u(v);ot(w,()=>f[a(m)]),i.__click=[ht,n,r,m,k,o,g],A(s,i),N()}O(["click"]);function vt(s){s.stopPropagation();const e=s.currentTarget.closest("header")?.querySelector("nav");e&&(e.dataset.state=e.dataset.state==="open"?"close":"open")}function L(s){const e=s.currentTarget.closest("nav");e&&(e.dataset.state="close")}function yt(s){s.stopPropagation();const e=s.currentTarget.closest(".dropdown");e&&(e.dataset.state=e.dataset.state==="open"?"close":"open")}var wt=M('<header><div class="flex items-center justify-between"><a class="group flex items-center md:flex-col md:items-start outline-none gap-2 md:gap-0"><img alt="Ms. International" loading="lazy" class="w-12 h-12 md:hidden"> <h1 class="crimson-text-bold text-3xl tracking-wider md:hidden group-hover:text-tuscany-600 group-focus:text-tuscany-600">OTS</h1> <h1 class="crimson-text-bold text-3xl sr-only md:not-sr-only group-hover:text-tuscany-600 group-focus:text-tuscany-600">Outside the suitcase</h1> <span class="mukta-regular sr-only md:not-sr-only">Reverse 1999 Global Leaderboard</span></a> <button type="button" class="md:hidden text-slate-800 dark:text-white outline-none hover:text-tuscany-600 focus:text-tuscany-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu pointer-events-none"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div> <nav data-state="close" class="data-[state=close]:hidden md:data-[state=close]:flex flex flex-col md:flex-row md:items-center gap-4 mukta-regular text-lg tracking-wide"><a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Home</a> <div data-state="close" class="dropdown group md:relative"><div class="flex items-center justify-between md:justify-start gap-1"><a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Leaderboard</a> <button type="button" class="outline-none hover:text-tuscany-600 focus:text-tuscany-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevrons-up-down w-5 h-5 group-data-[state=open]:hidden pointer-events-none"><path d="m7 15 5 5 5-5"></path><path d="m7 9 5-5 5 5"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevrons-down-up w-5 h-5 group-data-[state=close]:hidden pointer-events-none"><path d="m7 20 5-5 5 5"></path><path d="m7 4 5 5 5-5"></path></svg></button></div> <div><a class="border-l-8 border-transparent outline-none hover:text-tuscany-600 focus:text-tuscany-600 px-4">F2P</a> <a class="border-l-8 border-transparent outline-none hover:text-tuscany-600 focus:text-tuscany-600 px-4">FFA</a></div></div> <a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Stream</a> <span class="outline-none line-through blur-[2px] select-none">Stats</span> <!> <!></nav></header> <!>',!0);function Bt(s,e){E(e,!1);const f={};V(f);const n=()=>W(ct,"$page",f);F(()=>{document.documentElement.addEventListener("click",()=>{const C=document.querySelector("nav"),B=document.querySelectorAll(".dropdown");C&&(C.dataset.state="close"),B.forEach(P=>{P.dataset.state="close"})}),document.documentElement.addEventListener("keyup",C=>{if(C.key==="Escape"){const B=document.querySelector("nav"),P=document.querySelectorAll(".dropdown");B&&(B.dataset.state="close"),P.forEach(K=>{K.dataset.state="close"})}})});var m=lt(s,!0,wt),r=X(m),o=u(r),g=u(o);j(g,"href",`${c(l)}/`);var k=u(g);j(k,"src",`${c(l)}/jessica-ms-international.png`);var i=t(t(g)),_=t(t(o)),v=u(_);j(v,"href",`${c(l)}/`);var w=t(t(v)),d=u(w),h=u(d);j(h,"href",`${c(l)}/leaderboard`);var T=t(t(h)),q=t(t(d)),x=u(q),S=t(t(x)),$=t(t(w));j($,"href",`${c(l)}/stream`);var H=t(t($)),U=t(t(H)),Z=t(t(U)),J=t(t(r));st(J,rt(e).children,{}),G(r,()=>`sticky bottom-0 z-10 flex flex-col-reverse md:flex-row gap-6 items-stretch justify-between backdrop-blur-md ${c(n().url.pathname.includes(`${l}/leaderboard/`)?"bg-white/70 dark:bg-slate-900/70":"")} px-10 md:px-20 py-6`),G(q,()=>`dropdown-content w-full group-data-[state=close]:hidden flex flex-col gap-1 md:absolute bottom-full md:backdrop-blur-md ${c(n().url.pathname.includes(`${l}/leaderboard/`)?"md:bg-white/70 md:dark:bg-slate-900/70":"")} md:mb-10`),I(x,"href",()=>`${c(l)}/leaderboard/${c(n().data.raid?.toLowerCase().split(" ").join("-")??"darkness-of-the-abyss")}?category=f2p`),I(S,"href",()=>`${c(l)}/leaderboard/${c(n().data.raid?.toLowerCase().split(" ").join("-")??"darkness-of-the-abyss")}?category=ffa`),z(()=>{b(v,"text-tuscany-600",n().url.pathname===`${l}/`),b(h,"text-tuscany-600",n().url.pathname.includes(`${l}/leaderboard`)),b(x,"border-tuscany-600",new URL(window.location.toString()).searchParams.get("category")==="f2p"),b(S,"border-tuscany-600",new URL(window.location.toString()).searchParams.get("category")==="ffa"),b($,"text-tuscany-600",n().url.pathname===`${l}/stream`)}),i.__click=[vt],v.__click=[L],h.__click=[L],T.__click=[yt],x.__click=[L],S.__click=[L],$.__click=[L],gt(U,{}),ft(Z,{}),nt(s,m),N()}O(["click"]);export{Bt as component,Ct as universal};
