import"../chunks/disclose-version.BDr9Qe-U.js";import{F as R,p as E,G as Q,x as V,C as z,k as A,f as D,s as p,g as a,r as P,w as M,m as w,H as W,I as d,J as S,D as X,l as Y,v as u,q as t,j as tt,y as N,B as et,K as $,z as at,A as ot,L as O,M as U,e as st,n as rt,E as nt,o as lt}from"../chunks/runtime.ZSJ01HAk.js";/* empty css                    */import{p as ct}from"../chunks/stores.Bd0UPqjr.js";import{b as i}from"../chunks/paths.9X1kh8MV.js";import{c as dt,o as F}from"../chunks/main-client.BHcVed8f.js";import{S as it}from"../chunks/Storm.D_7gl_St.js";const ut=!1,$t=Object.freeze(Object.defineProperty({__proto__:null,ssr:ut},Symbol.toStringTag,{value:"Module"}));var pt=M('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/theme-toggles@4.10.1/css/classic.min.css">'),gt=M('<button type="button" title="Toggle theme" aria-label="Toggle theme"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="1.5rem" height="1.5rem" fill="currentColor" stroke-linecap="round" class="theme-toggle__classic pointer-events-none group-data-[state=enabled]:text-amber-300" viewBox="0 0 32 32"><clipPath id="theme-toggle__classic__cutout"><path d="M0-5h30a1 1 0 0 0 9 13v24H0Z"></path></clipPath><g clip-path="url(#theme-toggle__classic__cutout)"><circle cx="16" cy="16" r="9.34"></circle><g stroke="currentColor" stroke-width="1.5"><path d="M16 5.5v-4"></path><path d="M16 30.5v-4"></path><path d="M1.5 16h4"></path><path d="M26.5 16h4"></path><path d="m23.4 8.6 2.8-2.8"></path><path d="m5.7 26.3 2.9-2.9"></path><path d="m5.8 5.8 2.8 2.8"></path><path d="m23.4 23.4 2.9 2.9"></path></g></g></svg> <span class="text-slate-800 dark:text-white group-hover:text-tuscany-600 group-focus:text-tuscany-600 md:sr-only"> </span></button>');function ht(s,e){E(e,!0);let m=Y(e,"class");const n=dt(),g="delay-500";let r=w("dark"),o=w(!1),h;F(()=>{p(o,localStorage.getItem("ots:theme")==="dark"),p(r,a(o)?"dark":"light"),a(o)?h.dataset.state="enabled":delete h.dataset.state});function y(c){c.stopPropagation(),setTimeout(()=>{p(o,!a(o)),p(r,a(o)?"dark":"light"),a(o)?c.currentTarget.dataset.state="enabled":delete c.currentTarget.dataset.state,localStorage.setItem("ots:theme",a(r)),localStorage.getItem("ots:theme")==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Number(g.replace("delay-",""))),n("toggle",a(r))}var l=P(s,!0,gt);Q(c=>{var v=P(c,!0,pt);A(c,v)}),V(l,c=>h=c);var k=u(l),_=t(t(k)),f=u(_);z(()=>{W(l,`theme-toggle group flex items-center gap-2 text-slate-800 transition-colors delay-500 outline-none ${d(m())}`),S(l,"theme-toggle--toggled",a(o)),X(f,`Switch to ${d(a(r)==="dark"?"light":"dark")} mode`)}),l.__click=y,A(s,l),D()}R(["click"]);async function mt(s,e,m,n,g,r,o){s.stopPropagation(),p(e,!a(e)),!a(m)&&a(e)&&(p(n,"loading"),await g()),a(e)&&a(r)?(p(n,"playing"),a(r).play(),document.querySelector("#waveform path animate")?.setAttribute("values",a(o)),document.querySelector("#waveform circle")?.classList.add("hidden")):!a(e)&&a(r)&&(p(n,"paused"),document.querySelector("#waveform path animate")?.setAttribute("values",""),document.querySelector("#waveform circle")?.classList.remove("hidden"),a(r).pause())}var ft=M('<button type="button" class="outline-none flex items-center gap-2 md:static hover:text-tuscany-600 focus:text-tuscany-600"><svg class="round w-6 h-6" id="waveform"><defs><radialGradient id="rgrad" cx="50%" cy="50%" r="50%"><stop offset="0%" style="stop-color:rgb(0,255,10);stop-opacity:1.00"></stop><stop offset="25%" style="stop-color:rgb(0,188,212);stop-opacity:0.70"></stop><stop offset="50%" style="stop-color:rgb(238,130,238);stop-opacity:1.00"></stop><stop offset="75%" style="stop-color:rgb(103,58,183);stop-opacity:0.70"></stop><stop offset="100%" style="stop-color:rgb(233,30,99);stop-opacity:1.00"></stop></radialGradient></defs><circle fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" cx="12" cy="12" r="10"></circle><path style="stroke:url(#rgrad); stroke-width: 1px; fill: none;"><animate attributeName="d" dur="2.54s" repeatCount="indefinite" calcMode="linear" values=""></animate></path></svg> <span class="md:sr-only"> </span></button>');function vt(s,e){E(e,!0);const m={idle:"Listen to the melody",loading:"Searching for the source",playing:"Snap back to reality",paused:"Listen again"};let n=w(!1),g=w("idle"),r=w(!1),o=w(void 0),h=w("");async function y(){const v=await(await fetch(`${window.location.origin}${i}/audio/reverse-bgm.mp3`)).arrayBuffer();structuredClone(v);const x=URL.createObjectURL(new Blob([v],{type:"audio/mpeg"})),L=await new AudioContext().decodeAudioData(v);if(p(o,new Audio),p(r,!0),L){N(o,a(o).loop=!0),N(o,a(o).src=x);const b=await fetch(`${i}/api/waveform-path`);p(h,(await b.json()).path)}}var l=P(s,!0,ft),k=u(l),_=t(t(k)),f=u(_);tt(f,()=>m[a(g)]),l.__click=[mt,n,r,g,y,o,h],A(s,l),D()}R(["click"]);function yt(s){s.stopPropagation();const e=s.currentTarget.closest("header")?.querySelector("nav");e&&(e.dataset.state=e.dataset.state==="open"?"close":"open")}function B(s){const e=s.currentTarget.closest("nav");e&&(e.dataset.state="close")}function wt(s){s.stopPropagation();const e=s.currentTarget.closest(".dropdown");e&&(e.dataset.state=e.dataset.state==="open"?"close":"open")}var xt=M('<!> <header><div class="flex items-center justify-between"><a class="group flex items-center md:flex-col md:items-start outline-none gap-2 md:gap-0"><img alt="Ms. International" loading="lazy" class="w-12 h-12 md:hidden"> <h1 class="crimson-text-bold text-3xl tracking-wider md:hidden group-hover:text-tuscany-600 group-focus:text-tuscany-600">OTS</h1> <h1 class="crimson-text-bold text-3xl sr-only md:not-sr-only group-hover:text-tuscany-600 group-focus:text-tuscany-600">Outside the suitcase</h1> <span class="mukta-regular sr-only md:not-sr-only">Reverse 1999 Global Leaderboard</span></a> <button type="button" class="md:hidden text-slate-800 dark:text-white outline-none hover:text-tuscany-600 focus:text-tuscany-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu pointer-events-none"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div> <nav data-state="close" class="data-[state=close]:hidden md:data-[state=close]:flex flex flex-col md:flex-row md:items-center gap-4 mukta-regular text-lg tracking-wide"><a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Home</a> <div data-state="close" class="dropdown group md:relative"><div class="flex items-center justify-between md:justify-start gap-1"><a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Leaderboard</a> <button type="button" class="outline-none hover:text-tuscany-600 focus:text-tuscany-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevrons-up-down w-5 h-5 group-data-[state=open]:hidden pointer-events-none"><path d="m7 15 5 5 5-5"></path><path d="m7 9 5-5 5 5"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevrons-down-up w-5 h-5 group-data-[state=close]:hidden pointer-events-none"><path d="m7 20 5-5 5 5"></path><path d="m7 4 5 5 5-5"></path></svg></button></div> <div><a class="border-l-8 border-transparent outline-none hover:text-tuscany-600 focus:text-tuscany-600 px-4">F2P</a> <a class="border-l-8 border-transparent outline-none hover:text-tuscany-600 focus:text-tuscany-600 px-4">FFA</a></div></div> <span class="outline-none line-through blur-[2px] select-none">Stats</span> <!> <!></nav></header> <!>',!0);function Bt(s,e){E(e,!1);const m={};et(m);const n=()=>nt(ct,"$page",m);F(()=>{document.documentElement.addEventListener("click",()=>{const j=document.querySelector("nav"),C=document.querySelectorAll(".dropdown");j&&(j.dataset.state="close"),C.forEach(q=>{q.dataset.state="close"})}),document.documentElement.addEventListener("keyup",j=>{if(j.key==="Escape"){const C=document.querySelector("nav"),q=document.querySelectorAll(".dropdown");C&&(C.dataset.state="close"),q.forEach(Z=>{Z.dataset.state="close"})}})});var g=lt(s,!0,xt),r=rt(g),o=t(t(r)),h=u(o),y=u(h);$(y,"href",`${d(i)}/`);var l=u(y);$(l,"src",`${d(i)}/jessica-ms-international.png`);var k=t(t(y)),_=t(t(h)),f=u(_);$(f,"href",`${d(i)}/`);var c=t(t(f)),v=u(c),x=u(v);$(x,"href",`${d(i)}/leaderboard`);var G=t(t(x)),L=t(t(v)),b=u(L),T=t(t(b)),H=t(t(c)),I=t(t(H)),J=t(t(I)),K=t(t(o));at(K,ot(e).children,{}),O(o,()=>`sticky bottom-0 z-10 flex flex-col-reverse md:flex-row gap-6 items-stretch justify-between backdrop-blur-md ${d(n().url.pathname.includes(`${i}/leaderboard/`)?"bg-white/70 dark:bg-slate-900/70":"")} px-10 md:px-20 py-6`),O(L,()=>`dropdown-content w-full group-data-[state=close]:hidden flex flex-col gap-1 md:absolute bottom-full md:backdrop-blur-md ${d(n().url.pathname.includes(`${i}/leaderboard/`)?"md:bg-white/70 md:dark:bg-slate-900/70":"")} md:mb-10`),U(b,"href",()=>`${d(i)}/leaderboard/${d(n().data.raid?.toLowerCase().split(" ").join("-")??"darkness-of-the-abyss")}?category=f2p`),U(T,"href",()=>`${d(i)}/leaderboard/${d(n().data.raid?.toLowerCase().split(" ").join("-")??"darkness-of-the-abyss")}?category=ffa`),z(()=>{S(f,"text-tuscany-600",n().url.pathname===`${i}/`),S(x,"text-tuscany-600",n().url.pathname.includes(`${i}/leaderboard`)),S(b,"border-tuscany-600",new URL(window.location.toString()).searchParams.get("category")==="f2p"),S(T,"border-tuscany-600",new URL(window.location.toString()).searchParams.get("category")==="ffa")}),it(r,{}),k.__click=[yt],f.__click=[B],x.__click=[B],G.__click=[wt],b.__click=[B],T.__click=[B],ht(I,{}),vt(J,{}),st(s,g),D()}R(["click"]);export{Bt as component,$t as universal};
