import"../chunks/disclose-version.BDr9Qe-U.js";import{z as T,p as R,A as W,x as O,B as q,k as M,f as $,s as b,g as a,m as _,r as L,w as k,y as I,C as D,D as w,E as C,F as N,G as U,H as S,I as E,J as F,e as J,q as p,n as K,v as H,K as Z,o as Q}from"../chunks/runtime.0WCIqXPU.js";import{p as V}from"../chunks/stores.CM1pFFOe.js";import{e as x}from"../chunks/singletons.2FQu0Ord.js";import{c as X,o as G}from"../chunks/main-client.9EOfzH7n.js";const Y=!1,ht=Object.freeze(Object.defineProperty({__proto__:null,ssr:Y},Symbol.toStringTag,{value:"Module"}));function tt(c,o,d,f,s){c.stopPropagation(),setTimeout(()=>{b(o,!a(o)),d=a(o)?"dark":"light",a(o)?c.currentTarget.dataset.state="enabled":delete c.currentTarget.dataset.state,localStorage.setItem("ots:theme",d),localStorage.getItem("ots:theme")==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Number(f.replace("delay-",""))),s("toggle",d)}var et=k('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/theme-toggles@4.10.1/css/classic.min.css">'),at=k('<button type="button" title="Toggle theme" aria-label="Toggle theme"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="1.5rem" height="1.5rem" fill="currentColor" stroke-linecap="round" class="theme-toggle__classic pointer-events-none" viewBox="0 0 32 32"><clipPath id="theme-toggle__classic__cutout"><path d="M0-5h30a1 1 0 0 0 9 13v24H0Z"></path></clipPath><g clip-path="url(#theme-toggle__classic__cutout)"><circle cx="16" cy="16" r="9.34"></circle><g stroke="currentColor" stroke-width="1.5"><path d="M16 5.5v-4"></path><path d="M16 30.5v-4"></path><path d="M1.5 16h4"></path><path d="M26.5 16h4"></path><path d="m23.4 8.6 2.8-2.8"></path><path d="m5.7 26.3 2.9-2.9"></path><path d="m5.8 5.8 2.8 2.8"></path><path d="m23.4 23.4 2.9 2.9"></path></g></g></svg></button>');function ot(c,o){const d=N(o,["children","$$slots","$$events"]);R(o,!1);const f=X(),s="delay-500";let g="dark",h=_(!1),r=_();G(()=>{b(h,localStorage.getItem("ots:theme")==="dark"),g=a(h)?"dark":"light",a(h)?I(r,a(r).dataset.state="enabled"):delete a(r).dataset.state});var i=L(c,!0,at);W(n=>{var m=L(n,!0,et);M(n,m)}),O(i,n=>b(r,n)),q(()=>{D(i,`theme-toggle text-slate-800 data-[state=enabled]:text-amber-300 transition-colors delay-500 ${w(a(d).class)}`),C(i,"theme-toggle--toggled",a(h))}),i.__click=[tt,h,g,s,f],M(c,i),$()}T(["click"]);var st=k('<div class="rain-container fixed inset-0 -z-10 pointer-events-none"></div>');function rt(c,o){R(o,!1);function d(t,e){const B=e.clientWidth,j=e.clientHeight;t&&(n=t.width=Math.max(500,B),m=t.height=Math.max(320,j)),e.style.left=e.style.right=e.style.top=e.style.bottom="0"}function f(){l=[];for(let e=499;e>=0;e--)l.push({x:1,y:0,z:0});for(let e=0;e<500;e++)l[e].x=Math.floor(Math.random()*document.documentElement.clientWidth+9),l[e].y=Math.floor(Math.random()*a(r).clientHeight+9),l[e].z=Math.floor(Math.random()*2+1),l[e].w=Math.floor(Math.random()*3+2)}function s(){for(let t=0;t<500;t++){l[t].y<=0&&(l[t].y+=a(r).clientHeight),l[t].x<-10?l[t].x+=n:l[t].y-=Number(l[t]?.w??1)*P;const e=i.createRadialGradient(250,450,140,250,300,600);localStorage.getItem("ots:theme")==="dark"?(e.addColorStop(0,"rgba(100, 170, 160, 0.2)"),e.addColorStop(.1,"rgba(100, 160, 160, 0.12)"),e.addColorStop(.2,"rgba(100, 150, 150, 0.1)"),e.addColorStop(1,"rgba(100, 140, 140, .08)")):e.addColorStop(0,"rgba(0, 0, 0, 0.2)"),i.fillStyle=e,i.fillRect(l[t].x,l[t].y,l[t].z,4)}}function g(t){u=0,t>350?u=(500-t)*.004:t<350&&t>250?u=(t-250)*.006:t<250&&t>=100?u=(250-t)*.004:t<100&&t>=0&&(u=t*.006),u>0&&(i.fillStyle=localStorage.getItem("ots:theme")==="dark"?`rgba(250, 250, 245, ${u})`:`rgba(0, 0, 0, ${u})`,i.fillRect(0,0,n,m))}function h(){const t=document.querySelector("canvas");t&&d(t,a(r)),v<0?v=8e3:v-=30,y=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",i.fillStyle=y,i.fillRect(0,0,n,m),s(),v<500&&g(v)}let r=_(),i,n,m,y,v,u,l=[],P=.5,z;G(()=>{const t=document.createElement("div"),e=document.createElement("canvas");y=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",new ResizeObserver(j=>{l=[],f()}).observe(a(r)),i=e.getContext("2d"),a(r).appendChild(t),t.style.position="fixed",t.appendChild(e),d(e,a(r)),f(),v=8e3,u=0,typeof z!==void 0&&(clearInterval(z),z=setInterval(h,30))});var A=L(c,!0,st);O(A,t=>b(r,t)),M(c,A),$()}async function lt(c,o,d,f,s,g){b(o,!a(o)),!a(d)&&a(o)&&await f(),a(o)&&a(s)?(a(s).play(),document.querySelector("#waveform path animate")?.setAttribute("values",a(g)),document.querySelector("#waveform circle")?.classList.add("hidden")):!a(o)&&a(s)&&(document.querySelector("#waveform path animate")?.setAttribute("values",""),document.querySelector("#waveform circle")?.classList.remove("hidden"),a(s).pause())}var it=k('<button type="button" class="outline-none hover:text-tuscany-600 focus:text-tuscany-600"><svg class="round w-6 h-6" id="waveform"><defs><radialGradient id="rgrad" cx="50%" cy="50%" r="50%"><stop offset="0%" style="stop-color:rgb(0,255,10);stop-opacity:1.00"></stop><stop offset="25%" style="stop-color:rgb(0,188,212);stop-opacity:0.70"></stop><stop offset="50%" style="stop-color:rgb(238,130,238);stop-opacity:1.00"></stop><stop offset="75%" style="stop-color:rgb(103,58,183);stop-opacity:0.70"></stop><stop offset="100%" style="stop-color:rgb(233,30,99);stop-opacity:1.00"></stop></radialGradient></defs><circle fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" cx="12" cy="12" r="10"></circle><path style="stroke:url(#rgrad); stroke-width: 1px; fill: none;"><animate attributeName="d" dur="2.54s" repeatCount="indefinite" calcMode="linear" values=""></animate></path></svg></button>');function nt(c,o){R(o,!0);let d=_(!1),f=_(!1),s=_(void 0),g=_("");async function h(){const n=await(await fetch(`${window.location.origin}${x}/audio/reverse-bgm.mp3`)).arrayBuffer();structuredClone(n);const m=URL.createObjectURL(new Blob([n],{type:"audio/mpeg"})),v=await new AudioContext().decodeAudioData(n);if(b(s,new Audio),b(f,!0),v){I(s,a(s).loop=!0),I(s,a(s).src=m);const u=await fetch(`${x}/api/waveform-path`);b(g,(await u.json()).path)}}var r=L(c,!0,it);r.__click=[lt,d,f,h,s,g],M(c,r),$()}T(["click"]);var ct=k('<!> <header class="flex items-stretch justify-between px-4 md:px-20 py-6"><a class="flex flex-col items-start outline-none"><div class="mukta-extrabold text-3xl">Outside the suitcase</div> <div class="mukta-regular">Reverse 1999 Global Leaderboard</div></a> <nav class="flex items-center gap-4 tracking-wide"><a>Home</a> <a>Leaderboard</a> <a>Stats</a> <!> <!></nav></header> <!>',!0);function mt(c,o){R(o,!1);const d={};U(d);const f=()=>Z(V,"$page",d);var s=Q(c,!0,ct),g=K(s),h=p(p(g)),r=H(h);S(r,"href",`${w(x)}/`);var i=p(p(r)),n=H(i);S(n,"href",`${w(x)}/`);var m=p(p(n));S(m,"href",`${w(x)}/leaderboard`);var y=p(p(m));S(y,"href",`${w(x)}/stats`);var v=p(p(y)),u=p(p(v)),l=p(p(h));E(l,F(o).children,{}),q(()=>{C(n,"text-tuscany-600",f().route.id==="/"),C(m,"text-tuscany-600",f().route.id==="/leaderboard"),C(y,"text-tuscany-600",f().route.id==="/stats")}),rt(g,{}),ot(v,{}),nt(u,{}),J(c,s),$()}export{mt as component,ht as universal};
