import"../chunks/disclose-version.BDr9Qe-U.js";import{F as T,p as A,G as z,x as D,C as G,k as B,f as P,s as r,g as e,r as $,w as S,m as h,H as I,I as v,J as w,D as E,l as N,v as f,q as s,j as H,y as q,B as U,K as _,z as F,A as J,e as K,n as Z,E as Q,o as V}from"../chunks/runtime.B9qmLNte.js";/* empty css                    */import{p as W}from"../chunks/stores.D9HSdsPM.js";import{b as g}from"../chunks/paths.DmzgRKYo.js";import{c as X,o as O}from"../chunks/main-client.BtcZu-Cp.js";import{S as Y}from"../chunks/Storm.BT9gLPI1.js";const ee=!1,ye=Object.freeze(Object.defineProperty({__proto__:null,ssr:ee},Symbol.toStringTag,{value:"Module"}));var te=S('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/theme-toggles@4.10.1/css/classic.min.css">'),ae=S('<button type="button" title="Toggle theme" aria-label="Toggle theme"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="1.5rem" height="1.5rem" fill="currentColor" stroke-linecap="round" class="theme-toggle__classic pointer-events-none group-data-[state=enabled]:text-amber-300" viewBox="0 0 32 32"><clipPath id="theme-toggle__classic__cutout"><path d="M0-5h30a1 1 0 0 0 9 13v24H0Z"></path></clipPath><g clip-path="url(#theme-toggle__classic__cutout)"><circle cx="16" cy="16" r="9.34"></circle><g stroke="currentColor" stroke-width="1.5"><path d="M16 5.5v-4"></path><path d="M16 30.5v-4"></path><path d="M1.5 16h4"></path><path d="M26.5 16h4"></path><path d="m23.4 8.6 2.8-2.8"></path><path d="m5.7 26.3 2.9-2.9"></path><path d="m5.8 5.8 2.8 2.8"></path><path d="m23.4 23.4 2.9 2.9"></path></g></g></svg> <span class="text-slate-800 dark:text-white group-hover:text-tuscany-600 group-focus:text-tuscany-600 md:sr-only"> </span></button>');function se(n,t){A(t,!0);let m=N(t,"class");const d=X(),i="delay-500";let o=h("dark"),a=h(!1),u;O(()=>{r(a,localStorage.getItem("ots:theme")==="dark"),r(o,e(a)?"dark":"light"),e(a)?u.dataset.state="enabled":delete u.dataset.state});function y(c){c.stopPropagation(),setTimeout(()=>{r(a,!e(a)),r(o,e(a)?"dark":"light"),e(a)?c.currentTarget.dataset.state="enabled":delete c.currentTarget.dataset.state,localStorage.setItem("ots:theme",e(o)),localStorage.getItem("ots:theme")==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Number(i.replace("delay-",""))),d("toggle",e(o))}var l=$(n,!0,ae);z(c=>{var p=$(c,!0,te);B(c,p)}),D(l,c=>u=c);var b=f(l),k=s(s(b)),x=f(k);G(()=>{I(l,`theme-toggle group flex items-center gap-2 text-slate-800 transition-colors delay-500 outline-none ${v(m())}`),w(l,"theme-toggle--toggled",e(a)),E(x,`Switch to ${v(e(o)==="dark"?"light":"dark")} mode`)}),l.__click=y,B(n,l),P()}T(["click"]);async function oe(n,t,m,d,i,o,a){n.stopPropagation(),r(t,!e(t)),!e(m)&&e(t)&&(r(d,"loading"),await i()),e(t)&&e(o)?(r(d,"playing"),e(o).play(),document.querySelector("#waveform path animate")?.setAttribute("values",e(a)),document.querySelector("#waveform circle")?.classList.add("hidden")):!e(t)&&e(o)&&(r(d,"paused"),document.querySelector("#waveform path animate")?.setAttribute("values",""),document.querySelector("#waveform circle")?.classList.remove("hidden"),e(o).pause())}var re=S('<button type="button" class="outline-none flex items-center gap-2 md:static hover:text-tuscany-600 focus:text-tuscany-600"><svg class="round w-6 h-6" id="waveform"><defs><radialGradient id="rgrad" cx="50%" cy="50%" r="50%"><stop offset="0%" style="stop-color:rgb(0,255,10);stop-opacity:1.00"></stop><stop offset="25%" style="stop-color:rgb(0,188,212);stop-opacity:0.70"></stop><stop offset="50%" style="stop-color:rgb(238,130,238);stop-opacity:1.00"></stop><stop offset="75%" style="stop-color:rgb(103,58,183);stop-opacity:0.70"></stop><stop offset="100%" style="stop-color:rgb(233,30,99);stop-opacity:1.00"></stop></radialGradient></defs><circle fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" cx="12" cy="12" r="10"></circle><path style="stroke:url(#rgrad); stroke-width: 1px; fill: none;"><animate attributeName="d" dur="2.54s" repeatCount="indefinite" calcMode="linear" values=""></animate></path></svg> <span class="md:sr-only"> </span></button>');function ne(n,t){A(t,!0);const m={idle:"Listen to the melody",loading:"Searching for the source",playing:"Snap back to reality",paused:"Listen again"};let d=h(!1),i=h("idle"),o=h(!1),a=h(void 0),u=h("");async function y(){const p=await(await fetch(`${window.location.origin}${g}/audio/reverse-bgm.mp3`)).arrayBuffer();structuredClone(p);const L=URL.createObjectURL(new Blob([p],{type:"audio/mpeg"})),C=await new AudioContext().decodeAudioData(p);if(r(a,new Audio),r(o,!0),C){q(a,e(a).loop=!0),q(a,e(a).src=L);const M=await fetch(`${g}/api/waveform-path`);r(u,(await M.json()).path)}}var l=$(n,!0,re),b=f(l),k=s(s(b)),x=f(k);H(x,()=>m[e(i)]),l.__click=[oe,d,o,i,y,a,u],B(n,l),P()}T(["click"]);function le(n,t){n.stopPropagation(),r(t,!e(t))}var ce=(n,t)=>r(t,!1),ie=(n,t)=>r(t,!1),de=S('<!> <header><div class="flex items-center justify-between"><a class="group flex items-center md:flex-col md:items-start outline-none gap-2 md:gap-0"><img alt="Ms. International" loading="lazy" class="w-12 h-12 md:hidden"> <h1 class="crimson-text-bold text-3xl tracking-wider md:hidden group-hover:text-tuscany-600 group-focus:text-tuscany-600">OTS</h1> <h1 class="crimson-text-bold text-3xl sr-only md:not-sr-only group-hover:text-tuscany-600 group-focus:text-tuscany-600">Outside the suitcase</h1> <span class="mukta-regular sr-only md:not-sr-only">Reverse 1999 Global Leaderboard</span></a> <button type="button" class="md:hidden text-slate-800 dark:text-white outline-none hover:text-tuscany-600 focus:text-tuscany-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu pointer-events-none"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div> <nav class="md:flex flex flex-col md:flex-row md:items-center gap-4 mukta-regular text-lg tracking-wide"><a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Home</a> <a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Leaderboard</a> <span class="outline-none line-through blur-[2px] select-none">Stats</span> <!> <!></nav></header> <!>',!0);function xe(n,t){A(t,!0);const m={};U(m);const d=()=>Q(W,"$page",m);let i=h(!1);O(()=>{document.documentElement.addEventListener("click",()=>{r(i,!1)}),document.documentElement.addEventListener("keyup",R=>{R.key==="Escape"&&r(i,!1)})});var o=V(n,!0,de),a=Z(o),u=s(s(a)),y=f(u),l=f(y);_(l,"href",`${v(g)}/`);var b=f(l);_(b,"src",`${v(g)}/jessica-ms-international.png`);var k=s(s(l)),x=s(s(y)),c=f(x);_(c,"href",`${v(g)}/`);var p=s(s(c));_(p,"href",`${v(g)}/leaderboard`);var L=s(s(p)),j=s(s(L)),C=s(s(j)),M=s(s(u));F(M,J(t).children,{}),G(()=>{I(u,`sticky bottom-0 z-10 flex flex-col-reverse md:flex-row gap-6 items-stretch justify-between backdrop-blur-md ${v(d().url.pathname===`${g}/leaderboard/`?"dark:bg-slate-900/70":"")} px-10 md:px-20 py-6`),w(x,"hidden",!e(i)),w(c,"text-tuscany-600",d().url.pathname===`${g}/`),w(p,"text-tuscany-600",d().url.pathname.includes(`${g}/leaderboard`))}),Y(a,{}),k.__click=[le,i],c.__click=[ce,i],p.__click=[ie,i],se(j,{}),ne(C,{}),K(n,o),P()}T(["click"]);export{xe as component,ye as universal};
