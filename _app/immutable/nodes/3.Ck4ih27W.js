import"../chunks/disclose-version.BDr9Qe-U.js";import{F as M,p as $,G as R,x as D,C as q,k as L,f as T,s as m,g as t,r as B,w as j,m as v,H as G,I as f,J as S,D as N,l as P,v as h,q as e,j as H,y as A,B as U,K as _,z,A as F,e as J,n as K,E as Z,o as Q}from"../chunks/runtime.BfqAf-RT.js";/* empty css                    */import{p as V}from"../chunks/stores.CFjyBpgT.js";import{b as p}from"../chunks/paths.QhBx2T6w.js";import{c as W,o as X}from"../chunks/main-client.BzuLPHfk.js";import{S as Y}from"../chunks/Storm.DDHsmWJL.js";const E=!1,ht=Object.freeze(Object.defineProperty({__proto__:null,ssr:E},Symbol.toStringTag,{value:"Module"}));var tt=j('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/theme-toggles@4.10.1/css/classic.min.css">'),et=j('<button type="button" title="Toggle theme" aria-label="Toggle theme"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="1.5rem" height="1.5rem" fill="currentColor" stroke-linecap="round" class="theme-toggle__classic pointer-events-none group-data-[state=enabled]:text-amber-300" viewBox="0 0 32 32"><clipPath id="theme-toggle__classic__cutout"><path d="M0-5h30a1 1 0 0 0 9 13v24H0Z"></path></clipPath><g clip-path="url(#theme-toggle__classic__cutout)"><circle cx="16" cy="16" r="9.34"></circle><g stroke="currentColor" stroke-width="1.5"><path d="M16 5.5v-4"></path><path d="M16 30.5v-4"></path><path d="M1.5 16h4"></path><path d="M26.5 16h4"></path><path d="m23.4 8.6 2.8-2.8"></path><path d="m5.7 26.3 2.9-2.9"></path><path d="m5.8 5.8 2.8 2.8"></path><path d="m23.4 23.4 2.9 2.9"></path></g></g></svg> <span class="text-slate-800 dark:text-white group-hover:text-tuscany-600 group-focus:text-tuscany-600 md:sr-only"> </span></button>');function at(i,a){$(a,!0);let u=P(a,"class");const d=W(),s="delay-500";let r=v("dark"),n=v(!1),c;X(()=>{m(n,localStorage.getItem("ots:theme")==="dark"),m(r,t(n)?"dark":"light"),t(n)?c.dataset.state="enabled":delete c.dataset.state});function y(o){o.stopPropagation(),setTimeout(()=>{m(n,!t(n)),m(r,t(n)?"dark":"light"),t(n)?o.currentTarget.dataset.state="enabled":delete o.currentTarget.dataset.state,localStorage.setItem("ots:theme",t(r)),localStorage.getItem("ots:theme")==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Number(s.replace("delay-",""))),d("toggle",t(r))}var l=B(i,!0,et);R(o=>{var x=B(o,!0,tt);L(o,x)}),D(l,o=>c=o);var b=h(l),w=e(e(b)),g=h(w);q(()=>{G(l,`theme-toggle group flex items-center gap-2 text-slate-800 transition-colors delay-500 outline-none ${f(u())}`),S(l,"theme-toggle--toggled",t(n)),N(g,`Switch to ${f(t(r)==="dark"?"light":"dark")} mode`)}),l.__click=y,L(i,l),T()}M(["click"]);async function st(i,a,u,d,s,r){m(a,!t(a)),!t(u)&&t(a)&&await d(),t(a)&&t(s)?(t(s).play(),document.querySelector("#waveform path animate")?.setAttribute("values",t(r)),document.querySelector("#waveform circle")?.classList.add("hidden")):!t(a)&&t(s)&&(document.querySelector("#waveform path animate")?.setAttribute("values",""),document.querySelector("#waveform circle")?.classList.remove("hidden"),t(s).pause())}var ot=j('<button type="button" class="outline-none flex items-center gap-2 md:static hover:text-tuscany-600 focus:text-tuscany-600"><svg class="round w-6 h-6" id="waveform"><defs><radialGradient id="rgrad" cx="50%" cy="50%" r="50%"><stop offset="0%" style="stop-color:rgb(0,255,10);stop-opacity:1.00"></stop><stop offset="25%" style="stop-color:rgb(0,188,212);stop-opacity:0.70"></stop><stop offset="50%" style="stop-color:rgb(238,130,238);stop-opacity:1.00"></stop><stop offset="75%" style="stop-color:rgb(103,58,183);stop-opacity:0.70"></stop><stop offset="100%" style="stop-color:rgb(233,30,99);stop-opacity:1.00"></stop></radialGradient></defs><circle fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" cx="12" cy="12" r="10"></circle><path style="stroke:url(#rgrad); stroke-width: 1px; fill: none;"><animate attributeName="d" dur="2.54s" repeatCount="indefinite" calcMode="linear" values=""></animate></path></svg> <span class="md:sr-only"> </span></button>');function rt(i,a){$(a,!0);let u=v(!1),d=v(!1),s=v(void 0),r=v("");async function n(){const g=await(await fetch(`${window.location.origin}${p}/audio/reverse-bgm.mp3`)).arrayBuffer();structuredClone(g);const o=URL.createObjectURL(new Blob([g],{type:"audio/mpeg"})),C=await new AudioContext().decodeAudioData(g);if(m(s,new Audio),m(d,!0),C){A(s,t(s).loop=!0),A(s,t(s).src=o);const k=await fetch(`${p}/api/waveform-path`);m(r,(await k.json()).path)}}var c=B(i,!0,ot),y=h(c),l=e(e(y)),b=h(l);H(b,()=>t(u)?"Snap back to reality":"Listen to the melody"),c.__click=[st,u,d,n,s,r],L(i,c),T()}M(["click"]);function nt(i,a){m(a,!t(a))}var lt=j('<!> <header><div class="flex items-center justify-between"><a class="group flex items-center md:flex-col md:items-start outline-none gap-2 md:gap-0"><img alt="Ms. International" class="w-12 h-12 md:hidden"> <h1 class="crimson-text-bold text-3xl tracking-wider md:hidden group-hover:text-tuscany-600 group-focus:text-tuscany-600">OTS</h1> <h1 class="crimson-text-bold text-3xl sr-only md:not-sr-only group-hover:text-tuscany-600 group-focus:text-tuscany-600">Outside the suitcase</h1> <span class="mukta-regular sr-only md:not-sr-only">Reverse 1999 Global Leaderboard</span></a> <button type="button" class="md:hidden text-slate-800 dark:text-white outline-none hover:text-tuscany-600 focus:text-tuscany-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu pointer-events-none"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div> <nav class="md:flex flex flex-col md:flex-row md:items-center gap-4 mukta-regular text-lg tracking-wide"><a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Home</a> <a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Leaderboard</a> <span class="outline-none line-through blur-[2px] select-none">Stats</span> <!> <!></nav></header> <!>',!0);function ft(i,a){$(a,!0);const u={};U(u);const d=()=>Z(V,"$page",u);let s=v(!1);var r=Q(i,!0,lt),n=K(r),c=e(e(n)),y=h(c),l=h(y);_(l,"href",`${f(p)}/`);var b=h(l);_(b,"src",`${f(p)}/jessica-ms-international.gif`);var w=e(e(l)),g=e(e(y)),o=h(g);_(o,"href",`${f(p)}/`);var x=e(e(o));_(x,"href",`${f(p)}/leaderboard`);var C=e(e(x)),k=e(e(C)),I=e(e(k)),O=e(e(c));z(O,F(a).children,{}),q(()=>{G(c,`sticky bottom-0 flex flex-col-reverse md:flex-row gap-6 items-stretch justify-between backdrop-blur-md ${f(d().url.pathname===`${p}/leaderboard/`?"dark:bg-slate-900/70":"")} px-10 md:px-20 py-6`),S(g,"hidden",!t(s)),S(o,"text-tuscany-600",d().url.pathname===`${p}/`),S(x,"text-tuscany-600",d().url.pathname===`${p}/leaderboard/`)}),Y(n,{}),w.__click=[nt,s],at(k,{}),rt(I,{}),J(i,r),T()}M(["click"]);export{ft as component,ht as universal};
