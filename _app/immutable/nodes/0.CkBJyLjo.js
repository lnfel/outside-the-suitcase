import"../chunks/disclose-version.BDr9Qe-U.js";import{z as T,p as z,A as P,x as q,B as G,k as I,f as A,s as v,g as t,r as B,w as M,m as w,C as W,D as _,E as R,F as D,l as U,v as k,q as r,j as E,y as $,G as F,H as j,I as J,J as K,e as Z,n as Q,K as V,o as X}from"../chunks/runtime.BA7T5l1H.js";import{p as Y}from"../chunks/stores.BuN7bpWS.js";import{e as S}from"../chunks/singletons.oLXgHvKw.js";import{c as ee,o as N}from"../chunks/main-client.Brpx4oTM.js";const te=!1,ve=Object.freeze(Object.defineProperty({__proto__:null,ssr:te},Symbol.toStringTag,{value:"Module"}));var ae=M('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/theme-toggles@4.10.1/css/classic.min.css">'),oe=M('<button type="button" title="Toggle theme" aria-label="Toggle theme"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="1.5rem" height="1.5rem" fill="currentColor" stroke-linecap="round" class="theme-toggle__classic pointer-events-none group-data-[state=enabled]:text-amber-300" viewBox="0 0 32 32"><clipPath id="theme-toggle__classic__cutout"><path d="M0-5h30a1 1 0 0 0 9 13v24H0Z"></path></clipPath><g clip-path="url(#theme-toggle__classic__cutout)"><circle cx="16" cy="16" r="9.34"></circle><g stroke="currentColor" stroke-width="1.5"><path d="M16 5.5v-4"></path><path d="M16 30.5v-4"></path><path d="M1.5 16h4"></path><path d="M26.5 16h4"></path><path d="m23.4 8.6 2.8-2.8"></path><path d="m5.7 26.3 2.9-2.9"></path><path d="m5.8 5.8 2.8 2.8"></path><path d="m23.4 23.4 2.9 2.9"></path></g></g></svg> <span class="text-slate-800 dark:text-white group-hover:text-tuscany-600 group-focus:text-tuscany-600 md:sr-only"> </span></button>');function se(g,n){z(n,!0);let h=U(n,"class");const m=ee(),l="delay-500";let d=w("dark"),u=w(!1),i;N(()=>{v(u,localStorage.getItem("ots:theme")==="dark"),v(d,t(u)?"dark":"light"),t(u)?i.dataset.state="enabled":delete i.dataset.state});function p(o){o.stopPropagation(),setTimeout(()=>{v(u,!t(u)),v(d,t(u)?"dark":"light"),t(u)?o.currentTarget.dataset.state="enabled":delete o.currentTarget.dataset.state,localStorage.setItem("ots:theme",t(d)),localStorage.getItem("ots:theme")==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Number(l.replace("delay-",""))),m("toggle",t(d))}var c=B(g,!0,oe);P(o=>{var s=B(o,!0,ae);I(o,s)}),q(c,o=>i=o);var y=k(c),x=r(r(y)),f=k(x);G(()=>{W(c,`theme-toggle group flex items-center gap-2 text-slate-800 transition-colors delay-500 outline-none ${_(h())}`),R(c,"theme-toggle--toggled",t(u)),D(f,`Switch to ${_(t(d)==="dark"?"light":"dark")} mode`)}),c.__click=p,I(g,c),A()}T(["click"]);var re=M('<div class="rain-container fixed inset-0 -z-10 pointer-events-none"></div>');function ne(g,n){z(n,!1);function h(e,a){const H=a.clientWidth,O=a.clientHeight;e&&(c=e.width=Math.max(500,H),y=e.height=Math.max(320,O)),a.style.left=a.style.right=a.style.top=a.style.bottom="0"}function m(){s=[];for(let a=499;a>=0;a--)s.push({x:1,y:0,z:0});for(let a=0;a<500;a++)s[a].x=Math.floor(Math.random()*document.documentElement.clientWidth+9),s[a].y=Math.floor(Math.random()*t(i).clientHeight+9),s[a].z=Math.floor(Math.random()*2+1),s[a].w=Math.floor(Math.random()*3+2)}function l(){for(let e=0;e<500;e++){s[e].y<=0&&(s[e].y+=t(i).clientHeight),s[e].x<-10?s[e].x+=c:s[e].y-=Number(s[e]?.w??1)*C;const a=p.createRadialGradient(250,450,140,250,300,600);localStorage.getItem("ots:theme")==="dark"?(a.addColorStop(0,"rgba(100, 170, 160, 0.2)"),a.addColorStop(.1,"rgba(100, 160, 160, 0.12)"),a.addColorStop(.2,"rgba(100, 150, 150, 0.1)"),a.addColorStop(1,"rgba(100, 140, 140, .08)")):a.addColorStop(0,"rgba(0, 0, 0, 0.2)"),p.fillStyle=a,p.fillRect(s[e].x,s[e].y,s[e].z,4)}}function d(e){o=0,e>350?o=(500-e)*.004:e<350&&e>250?o=(e-250)*.006:e<250&&e>=100?o=(250-e)*.004:e<100&&e>=0&&(o=e*.006),o>0&&(p.fillStyle=localStorage.getItem("ots:theme")==="dark"?`rgba(250, 250, 245, ${o})`:`rgba(0, 0, 0, ${o})`,p.fillRect(0,0,c,y))}function u(){const e=document.querySelector("canvas");e&&h(e,t(i)),f<0?f=8e3:f-=30,x=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",p.fillStyle=x,p.fillRect(0,0,c,y),l(),f<500&&d(f)}let i=w(),p,c,y,x,f,o,s=[],C=.5,b;N(()=>{const e=document.createElement("div"),a=document.createElement("canvas");x=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",new ResizeObserver(O=>{s=[],m()}).observe(t(i)),p=a.getContext("2d"),t(i).appendChild(e),e.style.position="fixed",e.appendChild(a),h(a,t(i)),m(),f=8e3,o=0,typeof b!==void 0&&(clearInterval(b),b=setInterval(u,30))});var L=B(g,!0,re);q(L,e=>v(i,e)),I(g,L),A()}async function le(g,n,h,m,l,d){v(n,!t(n)),!t(h)&&t(n)&&await m(),t(n)&&t(l)?(t(l).play(),document.querySelector("#waveform path animate")?.setAttribute("values",t(d)),document.querySelector("#waveform circle")?.classList.add("hidden")):!t(n)&&t(l)&&(document.querySelector("#waveform path animate")?.setAttribute("values",""),document.querySelector("#waveform circle")?.classList.remove("hidden"),t(l).pause())}var ie=M('<button type="button" class="outline-none flex items-center gap-2 md:static hover:text-tuscany-600 focus:text-tuscany-600"><svg class="round w-6 h-6" id="waveform"><defs><radialGradient id="rgrad" cx="50%" cy="50%" r="50%"><stop offset="0%" style="stop-color:rgb(0,255,10);stop-opacity:1.00"></stop><stop offset="25%" style="stop-color:rgb(0,188,212);stop-opacity:0.70"></stop><stop offset="50%" style="stop-color:rgb(238,130,238);stop-opacity:1.00"></stop><stop offset="75%" style="stop-color:rgb(103,58,183);stop-opacity:0.70"></stop><stop offset="100%" style="stop-color:rgb(233,30,99);stop-opacity:1.00"></stop></radialGradient></defs><circle fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" cx="12" cy="12" r="10"></circle><path style="stroke:url(#rgrad); stroke-width: 1px; fill: none;"><animate attributeName="d" dur="2.54s" repeatCount="indefinite" calcMode="linear" values=""></animate></path></svg> <span class="md:sr-only"> </span></button>');function ce(g,n){z(n,!0);let h=w(!1),m=w(!1),l=w(void 0),d=w("");async function u(){const f=await(await fetch(`${window.location.origin}${S}/audio/reverse-bgm.mp3`)).arrayBuffer();structuredClone(f);const o=URL.createObjectURL(new Blob([f],{type:"audio/mpeg"})),C=await new AudioContext().decodeAudioData(f);if(v(l,new Audio),v(m,!0),C){$(l,t(l).loop=!0),$(l,t(l).src=o);const b=await fetch(`${S}/api/waveform-path`);v(d,(await b.json()).path)}}var i=B(g,!0,ie),p=k(i),c=r(r(p)),y=k(c);E(y,()=>t(h)?"Snap back to reality":"Listen to the melody"),i.__click=[le,h,m,u,l,d],I(g,i),A()}T(["click"]);function de(g,n){v(n,!t(n))}var ue=M('<!> <header class="sticky bottom-0 flex flex-col-reverse md:flex-row gap-6 items-stretch justify-between backdrop-blur-sm px-10 md:px-20 py-6"><div class="flex items-center justify-between"><a class="group flex items-center md:flex-col md:items-start outline-none gap-2 md:gap-0"><img alt="Ms. International" class="w-12 h-12 md:hidden"> <h1 class="crimson-text-bold text-3xl tracking-wider md:hidden group-hover:text-tuscany-600 group-focus:text-tuscany-600">OTS</h1> <h1 class="crimson-text-bold text-3xl sr-only md:not-sr-only group-hover:text-tuscany-600 group-focus:text-tuscany-600">Outside the suitcase</h1> <span class="mukta-regular sr-only md:not-sr-only">Reverse 1999 Global Leaderboard</span></a> <button type="button" class="md:hidden text-slate-800 dark:text-white outline-none hover:text-tuscany-600 focus:text-tuscany-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu pointer-events-none"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div> <nav class="md:flex flex flex-col md:flex-row md:items-center gap-4 mukta-regular text-lg tracking-wide"><a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Home</a> <a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Leaderboard</a> <span class="outline-none line-through blur-[2px] select-none">Stats</span> <!> <!></nav></header> <!>',!0);function ye(g,n){z(n,!0);const h={};F(h);const m=()=>V(Y,"$page",h);let l=w(!1);var d=X(g,!0,ue),u=Q(d),i=r(r(u)),p=k(i),c=k(p);j(c,"href",`${_(S)}/`);var y=k(c);j(y,"src",`${_(S)}/jessica-ms-international.gif`);var x=r(r(c)),f=r(r(p)),o=k(f);j(o,"href",`${_(S)}/`);var s=r(r(o));j(s,"href",`${_(S)}/leaderboard`);var C=r(r(s)),b=r(r(C)),L=r(r(b)),e=r(r(i));J(e,K(n).children,{}),G(()=>{R(f,"hidden",!t(l)),R(o,"text-tuscany-600",m().route.id==="/"),R(s,"text-tuscany-600",m().route.id==="/leaderboard")}),ne(u,{}),x.__click=[de,l],se(b,{}),ce(L,{}),Z(g,d),A()}T(["click"]);export{ye as component,ve as universal};
