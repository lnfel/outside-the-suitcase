import"../chunks/disclose-version.BDr9Qe-U.js";import{z,p as A,A as te,x as U,B as F,k as $,f as H,s as g,g as a,r as G,w as R,m as w,C as ae,D as S,E as B,F as oe,l as se,v as x,q as o,G as j,j as J,e as K,o as V,n as Z,y as E,H as re,I as ne,J as le,K as ie}from"../chunks/runtime.TsWTqLqS.js";import{p as ce}from"../chunks/stores.C1lH871D.js";import{e as C}from"../chunks/singletons.j0uYs_BV.js";import{c as de,o as Q}from"../chunks/main-client.DbN7wkBU.js";const ue=!1,Ie=Object.freeze(Object.defineProperty({__proto__:null,ssr:ue},Symbol.toStringTag,{value:"Module"}));var pe=R('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/theme-toggles@4.10.1/css/classic.min.css">'),fe=R('<button type="button" title="Toggle theme" aria-label="Toggle theme"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="1.5rem" height="1.5rem" fill="currentColor" stroke-linecap="round" class="theme-toggle__classic pointer-events-none group-data-[state=enabled]:text-amber-300" viewBox="0 0 32 32"><clipPath id="theme-toggle__classic__cutout"><path d="M0-5h30a1 1 0 0 0 9 13v24H0Z"></path></clipPath><g clip-path="url(#theme-toggle__classic__cutout)"><circle cx="16" cy="16" r="9.34"></circle><g stroke="currentColor" stroke-width="1.5"><path d="M16 5.5v-4"></path><path d="M16 30.5v-4"></path><path d="M1.5 16h4"></path><path d="M26.5 16h4"></path><path d="m23.4 8.6 2.8-2.8"></path><path d="m5.7 26.3 2.9-2.9"></path><path d="m5.8 5.8 2.8 2.8"></path><path d="m23.4 23.4 2.9 2.9"></path></g></g></svg> <span class="text-slate-800 dark:text-white group-hover:text-tuscany-600 group-focus:text-tuscany-600 md:sr-only"> </span></button>');function ge(f,l){A(l,!0);let h=se(l,"class");const m=de(),i="delay-500";let d=w("dark"),u=w(!1),v;Q(()=>{g(u,localStorage.getItem("ots:theme")==="dark"),g(d,a(u)?"dark":"light"),a(u)?v.dataset.state="enabled":delete v.dataset.state});function p(s){s.stopPropagation(),setTimeout(()=>{g(u,!a(u)),g(d,a(u)?"dark":"light"),a(u)?s.currentTarget.dataset.state="enabled":delete s.currentTarget.dataset.state,localStorage.setItem("ots:theme",a(d)),localStorage.getItem("ots:theme")==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Number(i.replace("delay-",""))),m("toggle",a(d))}var r=G(f,!0,fe);te(s=>{var c=G(s,!0,pe);$(s,c)}),U(r,s=>v=s);var b=x(r),k=o(o(b)),y=x(k);F(()=>{ae(r,`theme-toggle group flex items-center gap-2 text-slate-800 transition-colors delay-500 outline-none ${S(h())}`),B(r,"theme-toggle--toggled",a(u)),oe(y,`Switch to ${S(a(d)==="dark"?"light":"dark")} mode`)}),r.__click=p,$(f,r),H()}z(["click"]);var he=R('<div class="rain-container fixed inset-0 -z-10 pointer-events-none"></div> <div class="fixed top-6 right-10 md:right-20 flex items-center gap-2"><span class="crimson-text-regular text-sm"> </span> <button type="button" class="opacity-20 outline-none hover:opacity-100 focus:opacity-100 transition-opacity"><img alt="Vertin" class="w-10 h-10 rounded-full overflow-hidden pointer-events-none"></button></div>',!0);function me(f,l){A(l,!0);function h(e,t){const L=t.clientWidth,T=t.clientHeight;e&&(b=e.width=Math.max(500,L),k=e.height=Math.max(320,T)),t.style.left=t.style.right=t.style.top=t.style.bottom="0"}function m(){n=[];for(let t=499;t>=0;t--)n.push({x:1,y:0,z:0});for(let t=0;t<500;t++)n[t].x=Math.floor(Math.random()*document.documentElement.clientWidth+9),n[t].y=Math.floor(Math.random()*p.clientHeight+9),n[t].z=Math.floor(Math.random()*2+1),n[t].w=Math.floor(Math.random()*3+2)}function i(){for(let e=0;e<500;e++){n[e].y<=0&&(n[e].y+=p.clientHeight),n[e].x<-10?n[e].x+=b:n[e].y-=Number(n[e]?.w??1)*M;const t=r.createRadialGradient(250,450,140,250,300,600);localStorage.getItem("ots:theme")==="dark"?(t.addColorStop(0,"rgba(100, 170, 160, 0.2)"),t.addColorStop(.1,"rgba(100, 160, 160, 0.12)"),t.addColorStop(.2,"rgba(100, 150, 150, 0.1)"),t.addColorStop(1,"rgba(100, 140, 140, .08)")):t.addColorStop(0,"rgba(0, 0, 0, 0.2)"),r.fillStyle=t,r.fillRect(n[e].x,n[e].y,n[e].z,4)}}function d(e){a(_)&&(c=0,e>350?c=(500-e)*.004:e<350&&e>250?c=(e-250)*.006:e<250&&e>=100?c=(250-e)*.004:e<100&&e>=0&&(c=e*.006,g(_,!1),s=8e3),c>0&&(r.fillStyle=localStorage.getItem("ots:theme")==="dark"?`rgba(250, 250, 245, ${c})`:`rgba(0, 0, 0, ${c})`,r.fillRect(0,0,b,k)))}function u(){const e=document.querySelector("canvas");e&&h(e,p),a(_)&&(s<0?s=8e3:s-=30),y=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",r.fillStyle=y,r.fillRect(0,0,b,k),i(),s<500&&d(s)}function v(e){g(_,!0);const t=["Timekeeper","It's raining outside.","and the raindrops... *Gasp*","Eeeek!"];let L=0;q=setInterval(()=>{g(O,t[L]),L++,a(_)||setTimeout(T=>{g(O,""),T.blur(),clearInterval(q)},2e3,e.target)},2e3)}let p,r,b,k,y,s,c,n=[],M=.5,I,_=w(!1),O=w(""),q;Q(()=>{const e=document.createElement("div"),t=document.createElement("canvas");y=localStorage.getItem("ots:theme")==="dark"?"#0f172a":"#ffffff",new ResizeObserver(T=>{n=[],m()}).observe(p),r=t.getContext("2d"),p.appendChild(e),e.style.position="fixed",e.appendChild(t),h(t,p),m(),s=8e3,c=0,typeof I!==void 0&&(clearInterval(I),I=setInterval(u,30))});var W=V(f,!0,he),N=Z(W);U(N,e=>p=e);var X=o(o(N)),P=x(X),Y=x(P),D=o(o(P)),ee=x(D);j(ee,"src",`${S(C)}/img/character/sonetto.webp`),J(Y,()=>a(O)),D.__click=v,K(f,W),H()}z(["click"]);async function ve(f,l,h,m,i,d){g(l,!a(l)),!a(h)&&a(l)&&await m(),a(l)&&a(i)?(a(i).play(),document.querySelector("#waveform path animate")?.setAttribute("values",a(d)),document.querySelector("#waveform circle")?.classList.add("hidden")):!a(l)&&a(i)&&(document.querySelector("#waveform path animate")?.setAttribute("values",""),document.querySelector("#waveform circle")?.classList.remove("hidden"),a(i).pause())}var ye=R('<button type="button" class="outline-none flex items-center gap-2 md:static hover:text-tuscany-600 focus:text-tuscany-600"><svg class="round w-6 h-6" id="waveform"><defs><radialGradient id="rgrad" cx="50%" cy="50%" r="50%"><stop offset="0%" style="stop-color:rgb(0,255,10);stop-opacity:1.00"></stop><stop offset="25%" style="stop-color:rgb(0,188,212);stop-opacity:0.70"></stop><stop offset="50%" style="stop-color:rgb(238,130,238);stop-opacity:1.00"></stop><stop offset="75%" style="stop-color:rgb(103,58,183);stop-opacity:0.70"></stop><stop offset="100%" style="stop-color:rgb(233,30,99);stop-opacity:1.00"></stop></radialGradient></defs><circle fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" cx="12" cy="12" r="10"></circle><path style="stroke:url(#rgrad); stroke-width: 1px; fill: none;"><animate attributeName="d" dur="2.54s" repeatCount="indefinite" calcMode="linear" values=""></animate></path></svg> <span class="md:sr-only"> </span></button>');function xe(f,l){A(l,!0);let h=w(!1),m=w(!1),i=w(void 0),d=w("");async function u(){const y=await(await fetch(`${window.location.origin}${C}/audio/reverse-bgm.mp3`)).arrayBuffer();structuredClone(y);const s=URL.createObjectURL(new Blob([y],{type:"audio/mpeg"})),n=await new AudioContext().decodeAudioData(y);if(g(i,new Audio),g(m,!0),n){E(i,a(i).loop=!0),E(i,a(i).src=s);const M=await fetch(`${C}/api/waveform-path`);g(d,(await M.json()).path)}}var v=G(f,!0,ye),p=x(v),r=o(o(p)),b=x(r);J(b,()=>a(h)?"Snap back to reality":"Listen to the melody"),v.__click=[ve,h,m,u,i,d],$(f,v),H()}z(["click"]);function be(f,l){g(l,!a(l))}var we=R('<!> <header class="sticky bottom-0 flex flex-col-reverse md:flex-row gap-6 items-stretch justify-between backdrop-blur-sm px-10 md:px-20 py-6"><div class="flex items-center justify-between"><a class="group flex items-center md:flex-col md:items-start outline-none gap-2 md:gap-0"><img alt="Ms. International" class="w-12 h-12 md:hidden"> <h1 class="crimson-text-bold text-3xl tracking-wider md:hidden group-hover:text-tuscany-600 group-focus:text-tuscany-600">OTS</h1> <h1 class="crimson-text-bold text-3xl sr-only md:not-sr-only group-hover:text-tuscany-600 group-focus:text-tuscany-600">Outside the suitcase</h1> <span class="mukta-regular sr-only md:not-sr-only">Reverse 1999 Global Leaderboard</span></a> <button type="button" class="md:hidden text-slate-800 dark:text-white outline-none hover:text-tuscany-600 focus:text-tuscany-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu pointer-events-none"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div> <nav class="md:flex flex flex-col md:flex-row md:items-center gap-4 mukta-regular text-lg tracking-wide"><a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Home</a> <a class="outline-none hover:text-tuscany-600 focus:text-tuscany-600">Leaderboard</a> <span class="outline-none line-through blur-[2px] select-none">Stats</span> <!> <!></nav></header> <!>',!0);function Le(f,l){A(l,!0);const h={};re(h);const m=()=>ie(ce,"$page",h);let i=w(!1);var d=V(f,!0,we),u=Z(d),v=o(o(u)),p=x(v),r=x(p);j(r,"href",`${S(C)}/`);var b=x(r);j(b,"src",`${S(C)}/jessica-ms-international.gif`);var k=o(o(r)),y=o(o(p)),s=x(y);j(s,"href",`${S(C)}/`);var c=o(o(s));j(c,"href",`${S(C)}/leaderboard`);var n=o(o(c)),M=o(o(n)),I=o(o(M)),_=o(o(v));ne(_,le(l).children,{}),F(()=>{B(y,"hidden",!a(i)),B(s,"text-tuscany-600",m().route.id==="/"),B(c,"text-tuscany-600",m().route.id==="/leaderboard")}),me(u,{}),k.__click=[be,i],ge(M,{}),xe(I,{}),K(f,d),H()}z(["click"]);export{Le as component,Ie as universal};
