import"../chunks/disclose-version.BDr9Qe-U.js";import{p as Et,k as Ut,f as R,s as x,b as Bt,r as k,c as Dt,e as Ot,$ as Gt,g as c,i as a,l as Jt,j as t,h as M}from"../chunks/runtime.BGm8LMIg.js";import{j as Kt,k as qt,x as Ft,y as It,z as $t,w as L,v as Ht,d as u,m as at,h as o,l as Qt,e as h,f as p,t as et,u as r,A as Vt,i as rt,p as z,a as A,o as E}from"../chunks/render.Dki2-gLd.js";import{p as Wt}from"../chunks/stores.VXTfmVCn.js";import{b as Xt}from"../chunks/paths.CbgOo8-2.js";import{o as Yt,g as Zt,L as ta}from"../chunks/LoadingSpinner.BdmcHRnp.js";import{o as aa}from"../chunks/main-client.D0lBBaYG.js";const ea=["Rank","Username","Score","Team","Entry Tag","Entry Date"],ra={37:{thumbnail:"https://www.prydwen.gg/static/a9df0a9f798cde750e47fe7b40c4cb61/60b4d/64_icon.webp"},6:{thumbnail:"https://www.prydwen.gg/static/c3b16c3397767b4737aa9bb4ff4ffafc/60b4d/65_icon.webp"},"A Knight":{thumbnail:"https://www.prydwen.gg/static/12a9276bf3b49bb3cdde0543129d129f/60b4d/7_icon.webp"},Lilya:{thumbnail:"https://www.prydwen.gg/static/54312ecf859812f00722a142e9f6a8a2/60b4d/4_icon.webp"},Regulus:{thumbnail:"https://www.prydwen.gg/static/7837f8320689ec0c511ca55ac3f48fbf/60b4d/3_icon.webp"},"Tooth Fairy":{thumbnail:"https://www.prydwen.gg/static/dffcad8d709f386addef5085f913fa0e/60b4d/56_icon.webp"},"Kaalaa Baunaa":{thumbnail:"https://www.prydwen.gg/static/c746ac1cf15c943191df0b3f0938dec9/60b4d/62_icon.webp"},Pickles:{thumbnail:"https://www.prydwen.gg/static/b2f0e0c2a66f1d950723a013bb843f4e/60b4d/54_icon.webp"},Necrologist:{thumbnail:"https://www.prydwen.gg/static/44afab4c5d9e66ecb0f48194fbde44ba/60b4d/20_icon.webp"},"Balloon Party":{thumbnail:"https://www.prydwen.gg/static/7c5aacbd1d7debf7b5e171ef5b8eb21d/60b4d/19_icon.webp"},Bkornblume:{thumbnail:"https://www.prydwen.gg/static/f5c8a1e76ffa90a6a3cc1628543264e7/60b4d/16_icon.webp"},Spathodea:{thumbnail:"https://www.prydwen.gg/static/dbceab4cd300e4d053571a25c9ace92b/60b4d/65_icon.webp"},Sweetheart:{thumbnail:"https://www.prydwen.gg/static/ebe0a115613ed47b1bb61dda6861207d/60b4d/13_icon.webp"},Melania:{thumbnail:"https://www.prydwen.gg/static/4abbfd75d20606a1f0b2f2eb6ada77a2/60b4d/53_icon.webp"},Jessica:{thumbnail:"https://www.prydwen.gg/static/d1016961dc8a59f5bc3a3d6d62ba841b/60b4d/58_icon.webp"},"Jiu Niangzi":{thumbnail:"https://www.prydwen.gg/static/865bb8cb048103c43d16b2d45d000a4e/60b4d/69_icon.webp"},"An-an Lee":{thumbnail:"https://www.prydwen.gg/static/0b86bc3c4710ab7fb76f3c30adfd1283/60b4d/0_icon.webp"},"Ms. NewBabel":{thumbnail:"https://www.prydwen.gg/static/ac2895e23af4900d682d5fd3ebfd2bda/60b4d/11_icon.webp"},Ezra:{thumbnail:"https://www.prydwen.gg/static/8069d3e37cdd5917d78f9bd188c5e4b3/60b4d/66_icon.webp"},Shamane:{thumbnail:"https://www.prydwen.gg/static/141d00528dcb72b350cfc725386985fa/60b4d/60_icon.webp"},Leilani:{thumbnail:"https://www.prydwen.gg/static/30e7f4de8a38e2c4e5fb61ee96527b52/60b4d/41_icon.webp"},"Darley Clatter":{thumbnail:"https://www.prydwen.gg/static/e2d29a713c58c599f6a55423eb08e5fa/60b4d/45_icon.webp"}},sa=async({parent:g,params:d,url:_})=>({headers:ea,characterMap:ra,categories:["f2p","ffa"],category:_.searchParams.get("category")??"f2p"}),ka=Object.freeze(Object.defineProperty({__proto__:null,load:sa},Symbol.toStringTag,{value:"Module"}));function ia(g){g.stopPropagation();const d=g.currentTarget.closest(".character");d&&(d.dataset.current=d.dataset.state==="open"?"inactive":"active",document.querySelectorAll('.character[data-state="open"]:not([data-current="inactive"])').forEach(P=>{P.dataset.state="close"}),d.dataset.state=d.dataset.state==="open"?"close":"open")}var na=p("<option> </option>"),ca=p('<th scope="col" class="px-4 py-2 text-lg whitespace-nowrap text-white bg-tuscany-600"> </th>'),da=p('<tr class="svelte-pt40hr"><td colspan="6" class="skeleton crimson-text-regular tracking-wider border border-tuscany-600 svelte-pt40hr"><div class="flex items-center justify-center gap-2 py-6"><!> <span>Loading ranking data</span></div></td></tr>'),la=p('<div data-state="close" data-current="inactive" class="character group dropdown relative"><button aria-label="Toggle team info" type="button" class="outline-none"><img loading="lazy" width="40" height="40" class="inline w-10 h-10"></button> <div class="dropdown-content group-data-[state=close]:hidden absolute left-1/2 -translate-x-1/2 z-10 text-white bg-tuscany-600 p-2 space-y-2 svelte-pt40hr"><div class="crimson-text-bold tracking-wide"> </div> <ul class="text-sm"><li class="flex items-center justify-between flex-nowrap whitespace-nowrap space-x-4"><div>Resonance level</div> <div> </div></li> <li class="flex items-center justify-between flex-nowrap whitespace-nowrap space-x-4"><div>Portray</div> <div> </div></li> <li class="flex items-center justify-between flex-nowrap whitespace-nowrap space-x-4"><div>Amplification</div> <div> </div></li></ul></div></div>'),oa=p("<!>",!0),pa=p('<tr class="raid-entry odd:bg-tuscany-200 even:bg-tuscany-100 svelte-pt40hr"><td class="raid-entry-rank px-4 py-2 dark:text-slate-800 svelte-pt40hr"></td><td class="raid-entry-username px-4 py-2 dark:text-slate-800 svelte-pt40hr"> </td><td class="raid-entry-score px-4 py-2 dark:text-slate-800 svelte-pt40hr"> </td><td class="raid-entry-characters dark:text-slate-800 svelte-pt40hr"><div class="flex items-center min-w-48 px-4 py-2"></div></td><td class="px-4 py-2 dark:text-slate-800 svelte-pt40hr"> </td><td class="px-4 py-2 dark:text-slate-800 svelte-pt40hr"> </td></tr>'),ba=p("<!>",!0),wa=p("<!>",!0),va=p('<main class="flex-grow space-y-6"><h3 class="crimson-text-bold text-tuscany-600 dark:text-white text-2xl px-10 md:px-0"> </h3> <div class="flex items-center gap-2 px-10 md:px-0"><label for="category">Category</label> <select name="category" id="category" class="appearance-none cursor-pointer text-white text-sm bg-tuscany-600 outline-none hover:bg-tuscany-500 focus:bg-tuscany-500 pl-4 pr-8 py-1 bg-[right_0.5rem_center] bg-no-repeat bg-[length:1.5em_1.5em] svelte-pt40hr"></select></div> <div class="table-container overflow-x-auto svelte-pt40hr"><table class="w-full text-left border-collapse border border-tuscany-600 svelte-pt40hr"><thead><tr></tr></thead><tbody><!></tbody></table></div></main>');function Sa(g,d){Et(d,!0);const _={};Ut(_);const P=()=>Jt(Wt,"$page",_);let l=Ot(d,"data"),f=R(l().category),w=R(void 0),U=R("pending");function st(e){const s=new URLSearchParams(window.location.search);s.set("category",e.currentTarget.value);const n=new URL(window.location.toString());n.search=s.toString(),console.log(n.toString()),Zt(n.toString())}Yt(async()=>{x(f,new URL(window.location.toString()).searchParams.get("category")??"f2p"),x(w,(await l().sheet).raidGroup.find(e=>e.toLowerCase().split(" ").join("-")===window.location.pathname.replace(`${Xt}/leaderboard/`,"").replace("/","")))}),aa(async()=>{x(w,(await l().sheet).raidGroup.find(e=>e.toLowerCase().split(" ").join("-")===P().params.raid)),l().sheet.then(e=>{setTimeout(()=>{x(U,"resolved")},e[c(f)][c(w)]?.values.length*410)})});var B=h(g,!0,va);qt(e=>{k(()=>{Gt.title=`${at(c(w))} | Outside the suitcase`})});var D=t(B),it=t(D),O=a(a(D)),nt=t(O),S=a(a(nt));Ft(S),Bt(()=>{c(f)});const ct=()=>l().categories??[];var dt=a(a(O)),lt=t(dt),G=t(lt),ot=t(G),J=a(G),pt=t(J);k(()=>{o(it,c(w)??"Raid Title"),Qt(J,c(U)==="pending"?"loading":"loaded")}),It(S,()=>c(f),e=>x(f,e)),$t("change",S,st,!1),L(S,ct,9,null,(e,s,n)=>{var i=h(e,!0,na),b=t(i);et(b,()=>r(s).toUpperCase());var m;k(()=>{m!==(m=r(s))&&(i.value=i.__value=r(s),Vt(i))}),u(e,i)}),L(ot,()=>l().headers,9,null,(e,s,n)=>{var i=h(e,!0,ca),b=t(i);et(b,()=>r(s)),u(e,i)}),Ht(pt,()=>l().sheet,e=>{var s=h(e,!0,da),n=t(s),i=t(n),b=t(i);ta(b,{}),u(e,s)},(e,s)=>{var n=E(e,!0,wa),i=M(n);rt(i,()=>c(w),b=>{var m=E(b,!0,ba),bt=M(m);L(bt,()=>s[c(f)][c(w)]?.values??[],1,null,(K,y,wt)=>{var j=h(K,!0,pa);z(j,"style",`--animation-order: ${at(wt+1)};`);var vt=t(j),q=a(vt),gt=t(q),F=a(q),ft=t(F),I=a(F),ut=t(I),$=a(I),ht=t($),_t=a($),mt=t(_t);k(()=>{o(gt,r(y).Username),o(ft,r(y).Score),o(ht,r(y)["Entry Tag"]),o(mt,r(y)["Entry Date"])}),L(ut,()=>r(y).characters,9,null,(H,v,ga)=>{var Q=E(H,!0,oa),yt=M(Q);rt(yt,()=>l().characterMap?.[r(v).Name],V=>{var W=h(V,!0,la),T=t(W),X=t(T),xt=a(a(T)),Y=t(xt),kt=t(Y),St=a(a(Y)),Z=t(St),Lt=t(Z),Pt=a(a(Lt)),jt=t(Pt),tt=a(a(Z)),Tt=t(tt),Ct=a(a(Tt)),Nt=t(Ct),Rt=a(a(tt)),Mt=t(Rt),zt=a(a(Mt)),At=t(zt),C,N;k(()=>{C!==(C=l().characterMap[r(v).Name]?.thumbnail??"")&&z(X,"src",C),N!==(N=r(v).Name)&&z(X,"alt",N),o(kt,r(v).Name),o(jt,r(v).Resonance),o(Nt,r(v).Portray),o(At,r(v).Amplification)}),T.__click=[ia],u(V,W)},null),A(H,Q)},null),u(K,j)}),A(b,m)},null),A(e,n)}),u(g,B),Dt()}Kt(["click"]);export{Sa as component,ka as universal};
