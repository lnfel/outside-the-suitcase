import"../chunks/disclose-version.Bg9kRutz.js";import{m as Fe,c as Me,p as Re,o as A,r as F,l as ze,t as h,a as i,z as Oe,b as Ae,d as f,n as M,u as o,$ as Ee,g as s,q as qe,e,s as p,K as l,k,f as S,af as Ie,aj as Ke}from"../chunks/custom-element.Bd7BP0Qt.js";import{a as Xe}from"../chunks/await.CeFd7r0I.js";import{i as U}from"../chunks/if.BtDi6yPi.js";import{e as E,i as q}from"../chunks/each.DLmFlzR8.js";import{s as J,h as Ge}from"../chunks/attributes.Ch3uYejW.js";import{s as Je,t as We}from"../chunks/class.DJa49N0K.js";import{b as $e}from"../chunks/select.sHPi9eo0.js";import{p as He}from"../chunks/props.Cda_5gBt.js";import{u as Qe,s as Ve,p as Ye}from"../chunks/stores.gvC-oz9W.js";import{b as Ze}from"../chunks/paths.BtfFdbie.js";import{o as et,g as tt}from"../chunks/entry.CctKa2Vz.js";import{o as at}from"../chunks/index-client.CZUoncps.js";import{L as st}from"../chunks/LoadingSpinner.DJF-mSNX.js";const rt=["Rank","Username","Score","Team","Entry Tag","Entry Date"],nt={37:{thumbnail:"https://www.prydwen.gg/static/a9df0a9f798cde750e47fe7b40c4cb61/60b4d/64_icon.webp"},6:{thumbnail:"https://www.prydwen.gg/static/c3b16c3397767b4737aa9bb4ff4ffafc/60b4d/65_icon.webp"},"A Knight":{thumbnail:"https://www.prydwen.gg/static/12a9276bf3b49bb3cdde0543129d129f/60b4d/7_icon.webp"},Lilya:{thumbnail:"https://www.prydwen.gg/static/54312ecf859812f00722a142e9f6a8a2/60b4d/4_icon.webp"},Regulus:{thumbnail:"https://www.prydwen.gg/static/7837f8320689ec0c511ca55ac3f48fbf/60b4d/3_icon.webp"},"Tooth Fairy":{thumbnail:"https://www.prydwen.gg/static/dffcad8d709f386addef5085f913fa0e/60b4d/56_icon.webp"},"Kaalaa Baunaa":{thumbnail:"https://www.prydwen.gg/static/c746ac1cf15c943191df0b3f0938dec9/60b4d/62_icon.webp"},Pickles:{thumbnail:"https://www.prydwen.gg/static/b2f0e0c2a66f1d950723a013bb843f4e/60b4d/54_icon.webp"},Necrologist:{thumbnail:"https://www.prydwen.gg/static/44afab4c5d9e66ecb0f48194fbde44ba/60b4d/20_icon.webp"},"Balloon Party":{thumbnail:"https://www.prydwen.gg/static/7c5aacbd1d7debf7b5e171ef5b8eb21d/60b4d/19_icon.webp"},Bkornblume:{thumbnail:"https://www.prydwen.gg/static/f5c8a1e76ffa90a6a3cc1628543264e7/60b4d/16_icon.webp"},Spathodea:{thumbnail:"https://www.prydwen.gg/static/dbceab4cd300e4d053571a25c9ace92b/60b4d/65_icon.webp"},Sweetheart:{thumbnail:"https://www.prydwen.gg/static/ebe0a115613ed47b1bb61dda6861207d/60b4d/13_icon.webp"},Melania:{thumbnail:"https://www.prydwen.gg/static/4abbfd75d20606a1f0b2f2eb6ada77a2/60b4d/53_icon.webp"},Jessica:{thumbnail:"https://www.prydwen.gg/static/d1016961dc8a59f5bc3a3d6d62ba841b/60b4d/58_icon.webp"},"Jiu Niangzi":{thumbnail:"https://www.prydwen.gg/static/865bb8cb048103c43d16b2d45d000a4e/60b4d/69_icon.webp"},"An-an Lee":{thumbnail:"https://www.prydwen.gg/static/0b86bc3c4710ab7fb76f3c30adfd1283/60b4d/0_icon.webp"},"Ms. NewBabel":{thumbnail:"https://www.prydwen.gg/static/ac2895e23af4900d682d5fd3ebfd2bda/60b4d/11_icon.webp"},Ezra:{thumbnail:"https://www.prydwen.gg/static/8069d3e37cdd5917d78f9bd188c5e4b3/60b4d/66_icon.webp"},Shamane:{thumbnail:"https://www.prydwen.gg/static/141d00528dcb72b350cfc725386985fa/60b4d/60_icon.webp"},Leilani:{thumbnail:"https://www.prydwen.gg/static/30e7f4de8a38e2c4e5fb61ee96527b52/60b4d/41_icon.webp"},"Darley Clatter":{thumbnail:"https://www.prydwen.gg/static/e2d29a713c58c599f6a55423eb08e5fa/60b4d/45_icon.webp"}},ot=async({parent:_,params:d,url:u})=>({headers:rt,characterMap:nt,categories:["f2p","ffa"],category:u.searchParams.get("category")??"f2p"}),zt=Object.freeze(Object.defineProperty({__proto__:null,load:ot},Symbol.toStringTag,{value:"Module"}));function lt(_,d){const u=new URLSearchParams(window.location.search);u.set("category",_.currentTarget.value);const C=new URL(window.location.toString());C.search=u.toString(),console.log(C.toString()),d(C.toString())}function it(_){_.stopPropagation();const d=_.currentTarget.closest(".character");d&&(d.dataset.current=d.dataset.state==="open"?"inactive":"active",document.querySelectorAll('.character[data-state="open"]:not([data-current="inactive"])').forEach(C=>{C.dataset.state="close"}),d.dataset.state=d.dataset.state==="open"?"close":"open")}var ct=f('<option class="svelte-192psg6"> </option>'),dt=(_,d,u)=>d(u().toLowerCase()),pt=f('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-up w-4 h-4 svelte-192psg6"><path d="m18 15-6-6-6 6" class="svelte-192psg6"></path></svg>'),vt=f('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down w-4 h-4 svelte-192psg6"><path d="m6 9 6 6 6-6" class="svelte-192psg6"></path></svg>'),gt=f('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevrons-up-down w-4 h-4 svelte-192psg6"><path d="m7 15 5 5 5-5" class="svelte-192psg6"></path><path d="m7 9 5-5 5 5" class="svelte-192psg6"></path></svg>'),wt=f('<th scope="col" class="text-lg whitespace-nowrap text-white bg-tuscany-600 svelte-192psg6"><button type="button" class="flex items-center gap-1 outline-none hover:bg-tuscany-500 focus:bg-tuscany-500 px-4 py-2 svelte-192psg6"><span class="svelte-192psg6"> </span> <!></button></th>'),bt=f('<th scope="col" class="px-4 py-2 text-lg whitespace-nowrap text-white bg-tuscany-600 svelte-192psg6"> </th>'),ut=f('<div data-state="close" data-current="inactive" class="character group dropdown relative svelte-192psg6"><button aria-label="Toggle team info" type="button" class="outline-none svelte-192psg6"><img loading="lazy" width="40" height="40" class="inline w-10 h-10 svelte-192psg6"></button> <div class="dropdown-content group-data-[state=close]:hidden absolute left-1/2 -translate-x-1/2 z-10 text-white bg-tuscany-600 p-2 space-y-2 svelte-192psg6"><div class="crimson-text-bold tracking-wide svelte-192psg6"> </div> <ul class="text-sm svelte-192psg6"><li class="flex items-center justify-between flex-nowrap whitespace-nowrap space-x-4 svelte-192psg6"><div class="svelte-192psg6">Resonance level</div> <div class="svelte-192psg6"> </div></li> <li class="flex items-center justify-between flex-nowrap whitespace-nowrap space-x-4 svelte-192psg6"><div class="svelte-192psg6">Portray</div> <div class="svelte-192psg6"> </div></li> <li class="flex items-center justify-between flex-nowrap whitespace-nowrap space-x-4 svelte-192psg6"><div class="svelte-192psg6">Amplification</div> <div class="svelte-192psg6"> </div></li></ul></div></div>'),mt=f('<tr class="raid-entry odd:bg-tuscany-200 even:bg-tuscany-100 svelte-192psg6"><td class="raid-entry-rank px-4 py-2 dark:text-slate-800 svelte-192psg6"></td><td class="raid-entry-username px-4 py-2 dark:text-slate-800 svelte-192psg6"> </td><td class="raid-entry-score px-4 py-2 dark:text-slate-800 svelte-192psg6"> </td><td class="raid-entry-characters dark:text-slate-800 svelte-192psg6"><div class="flex items-center min-w-48 px-4 py-2 svelte-192psg6"></div></td><td class="px-4 py-2 dark:text-slate-800 svelte-192psg6"> </td><td class="px-4 py-2 dark:text-slate-800 whitespace-nowrap svelte-192psg6"> </td></tr>'),ht=f('<tr class="svelte-192psg6"><td colspan="6" class="skeleton crimson-text-regular tracking-wider border border-tuscany-600 svelte-192psg6"><div class="flex items-center justify-center gap-2 py-6 svelte-192psg6"><!> <span class="svelte-192psg6">Loading ranking data</span></div></td></tr>'),ft=f('<main class="flex-grow space-y-6 svelte-192psg6"><h3 class="crimson-text-bold text-tuscany-600 dark:text-white text-2xl px-10 md:px-0 svelte-192psg6"> </h3> <div class="flex items-center gap-2 px-10 md:px-0 svelte-192psg6"><label for="category" class="svelte-192psg6">Category</label> <select name="category" id="category" class="appearance-none cursor-pointer text-white text-sm bg-tuscany-600 outline-none hover:bg-tuscany-500 focus:bg-tuscany-500 pl-4 pr-8 py-1 bg-[right_0.5rem_center] bg-no-repeat bg-[length:1.5em_1.5em] svelte-192psg6"></select></div> <div class="table-container overflow-x-auto svelte-192psg6"><table class="w-full text-left border-collapse border border-tuscany-600 svelte-192psg6"><thead class="svelte-192psg6"><tr class="svelte-192psg6"></tr></thead><tbody><!></tbody></table></div></main>');function _t(_,d){Re(d,!0);const u={};Qe(u);const C=()=>Ve(Ye,"$page",u);let v=He(d,"data",7),D=A(F(v().category)),y=A(void 0),W=A("pending"),x=A(F({column:"score",order:"descending"}));function le(a,t){return a.column==="username"&&(a.order==="ascending"?t.sort((r,n)=>new Intl.Collator("en").compare(r.Username,n.Username)):t.sort((r,n)=>new Intl.Collator("en").compare(n.Username,r.Username))),a.column==="score"&&(a.order==="ascending"?t.sort((r,n)=>r.Score-n.Score):t.sort((r,n)=>n.Score-r.Score)),a.column==="entry date"&&(a.order==="ascending"?t.sort((r,n)=>r["Entry Date"].valueOf()-n["Entry Date"].valueOf()):t.sort((r,n)=>n["Entry Date"].valueOf()-r["Entry Date"].valueOf())),t}async function ie(a){o(x).column===a&&(o(x).order=o(x).order==="ascending"?"descending":"ascending"),o(x).column=a}et(async()=>{M(D,F(new URL(window.location.toString()).searchParams.get("category")??"f2p")),M(y,F((await v().sheet).raidGroup.find(a=>a.toLowerCase().split(" ").join("-")===window.location.pathname.replace(`${Ze}/leaderboard/`,"").replace("/",""))))}),at(async()=>{M(y,F((await v().sheet).raidGroup.find(a=>a.toLowerCase().split(" ").join("-")===C().params.raid))),v().sheet.then(a=>{var t,r;o(y)&&setTimeout(()=>{M(W,"resolved")},Number(((r=(t=a[o(D)][o(y)])==null?void 0:t.values)==null?void 0:r.length)??0)*410)})});var $=ft();ze(a=>{h(()=>Ee.title=`${o(y)??""} | Outside the suitcase`)});var H=e($),ce=e(H),Q=s(s(H,!0)),de=e(Q),I=s(s(de,!0));I.__change=[lt,tt],E(I,73,()=>v().categories??[],q,(a,t,r)=>{var n=ct(),g,m=e(n);h(()=>p(m,l(t).toUpperCase())),h(()=>{g!==(g=l(t))&&(n.value=(n.__value=l(t))==null?"":l(t))}),i(a,n)});var pe=s(s(Q,!0)),ve=e(pe),V=e(ve),ge=e(V),Y=(a,t)=>{let r=()=>t==null?void 0:t().name,n=Ie(()=>Ke(t==null?void 0:t().sortable,()=>!1));var g=k(),m=S(g);U(m,()=>o(n),w=>{var c=wt(),b=e(c);b.__click=[dt,ie,r];var R=e(b),N=e(R),K=s(s(R,!0));U(K,()=>o(x).column===r().toLowerCase(),j=>{var P=k(),z=S(P);U(z,()=>o(x).order==="ascending",B=>{var T=pt();i(B,T)},B=>{var T=vt();i(B,T)}),i(j,P)},j=>{var P=gt();i(j,P)}),h(()=>{We(b,"bg-tuscany-500",o(x).column===r().toLowerCase()),p(N,r())}),i(w,c)},w=>{var c=bt(),b=e(c);h(()=>p(b,r())),i(w,c)}),i(a,g)};E(ge,73,()=>v().headers,q,(a,t,r)=>{var n=k(),g=S(n);U(g,()=>["Username","Score","Entry Date"].includes(l(t)),m=>{var w=k(),c=S(w);Y(c,()=>({name:l(t),sortable:!0})),i(m,w)},m=>{var w=k(),c=S(w);Y(c,()=>({name:l(t)})),i(m,w)}),i(a,n)});var Z=s(V),we=e(Z);return Xe(we,()=>v().sheet,a=>{var t=ht(),r=e(t),n=e(r),g=e(n);st(g,{}),i(a,t)},(a,t)=>{var r=k(),n=S(r);U(n,()=>o(y),g=>{var m=k(),w=S(m);E(w,65,()=>{var c;return le(o(x),((c=o(t)[o(D)][o(y)])==null?void 0:c.values)??[])},q,(c,b,R)=>{var N=mt();J(N,"style",`--animation-order: ${l(R)+1};`);var K=e(N),j=s(K),P=e(j),z=s(j),B=e(z);h(()=>p(B,l(b).Score.toLocaleString()));var T=s(z),be=e(T);E(be,73,()=>l(b).characters,q,(fe,L,xt)=>{var te=k(),_e=S(te);U(_e,()=>{var O;return(O=v().characterMap)==null?void 0:O[l(L).Name]},O=>{var ae=ut(),X=e(ae);X.__click=[it];var G=e(X),ye=s(s(X,!0)),se=e(ye),xe=e(se),ke=s(s(se,!0)),re=e(ke),Se=e(re),Ce=s(s(Se,!0)),Le=e(Ce),ne=s(s(re,!0)),je=e(ne),Pe=s(s(je,!0)),Te=e(Pe),Ue=s(s(ne,!0)),De=e(Ue),Ne=s(s(De,!0)),Be=e(Ne);h(()=>{var oe;J(G,"src",((oe=v().characterMap[l(L).Name])==null?void 0:oe.thumbnail)??""),J(G,"alt",l(L).Name),p(xe,l(L).Name),p(Le,l(L).Resonance),p(Te,l(L).Portray),p(Be,l(L).Amplification)}),Ge(G),i(O,ae)}),i(fe,te)});var ee=s(T),ue=e(ee),me=s(ee),he=e(me);h(()=>p(he,l(b)["Entry Date"].toLocaleDateString("en-CA"))),h(()=>{p(P,l(b).Username),p(ue,l(b)["Entry Tag"])}),i(c,N)}),i(g,m)}),i(a,r)}),h(()=>{p(ce,o(y)??"Raid Title"),Je(Z,`${(o(W)==="pending"?"loading":"loaded")??""} svelte-192psg6`)}),$e(I,()=>o(D),a=>M(D,a)),i(_,$),Oe(_,"svelte-192psg6",`
    /* .table-container:has([data-state=open]) {
        overflow: visible!important;
    } */

    table.svelte-192psg6 {
        counter-reset: ranking;
    }

    table.svelte-192psg6 > tbody:where(.svelte-192psg6) tr > td:where(.svelte-192psg6):first-child:not(.skeleton)::before {
        counter-increment: ranking;
        content: counter(ranking);
    }

    table.svelte-192psg6 > tbody:where(.svelte-192psg6) tr:where(.svelte-192psg6):last-of-type .dropdown-content:where(.svelte-192psg6) {
        bottom: 100%;
    }

    table.svelte-192psg6 > tbody:where(.svelte-192psg6) tr:where(.svelte-192psg6):nth-last-child(2) .dropdown-content:where(.svelte-192psg6) {
        bottom: 100%;
    }

    select.svelte-192psg6 {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    }

    table.svelte-192psg6 > tbody:where(.svelte-192psg6):is(.loading:where(.svelte-192psg6)) .raid-entry:where(.svelte-192psg6) {
        opacity: 0;
        /* transform: translateX(-1rem); */
        animation-name: svelte-192psg6-fade-in;
        animation-duration: 400ms;
        animation-timing-function: ease-in;
        animation-delay: calc(200ms * var(--animation-order));
        animation-fill-mode: forwards;
    }

    @keyframes svelte-192psg6-fade-in {
        0% {
            opacity: 0;
            /* transform: translateX(-1rem); */
        }
        100% {
            opacity: 1;
            /* transform: translateX(0); */
        }
    }
`),Ae({get data(){return v()},set data(a){v(a),qe()}})}Fe(["change","click"]);Me(_t,{data:{}},[],[],!0);export{_t as component,zt as universal};
//# sourceMappingURL=10.BG38TCFF.js.map
