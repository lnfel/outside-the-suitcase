import"../chunks/disclose-version.Bg9kRutz.js";import{m as Ft,c as Mt,p as Rt,o as A,r as F,l as zt,t as m,a as i,z as Ot,b as At,d as f,n as M,u as o,$ as Et,g as r,q as qt,e as t,s as p,K as l,k,f as S,af as It,aj as Kt}from"../chunks/custom-element.Bd7BP0Qt.js";import{a as Xt}from"../chunks/await.CeFd7r0I.js";import{i as U}from"../chunks/if.BtDi6yPi.js";import{e as E,i as q}from"../chunks/each.DLmFlzR8.js";import{s as J,h as Gt}from"../chunks/attributes.Ch3uYejW.js";import{s as Jt,t as Wt}from"../chunks/class.DJa49N0K.js";import{b as $t}from"../chunks/select.sHPi9eo0.js";import{p as Ht}from"../chunks/props.Cda_5gBt.js";import{u as Qt,s as Vt,p as Yt}from"../chunks/stores.DvfAY4iQ.js";import{b as Zt}from"../chunks/paths.Dd-9-ID9.js";import{o as te,g as ee}from"../chunks/entry.CVQOOV5A.js";import{o as ae}from"../chunks/index-client.CZUoncps.js";import{L as re}from"../chunks/LoadingSpinner.DJF-mSNX.js";const se=["Rank","Username","Score","Team","Entry Tag","Entry Date"],ne={37:{thumbnail:"https://www.prydwen.gg/static/a9df0a9f798cde750e47fe7b40c4cb61/60b4d/64_icon.webp"},6:{thumbnail:"https://www.prydwen.gg/static/c3b16c3397767b4737aa9bb4ff4ffafc/60b4d/65_icon.webp"},"A Knight":{thumbnail:"https://www.prydwen.gg/static/12a9276bf3b49bb3cdde0543129d129f/60b4d/7_icon.webp"},Lilya:{thumbnail:"https://www.prydwen.gg/static/54312ecf859812f00722a142e9f6a8a2/60b4d/4_icon.webp"},Regulus:{thumbnail:"https://www.prydwen.gg/static/7837f8320689ec0c511ca55ac3f48fbf/60b4d/3_icon.webp"},"Tooth Fairy":{thumbnail:"https://www.prydwen.gg/static/dffcad8d709f386addef5085f913fa0e/60b4d/56_icon.webp"},"Kaalaa Baunaa":{thumbnail:"https://www.prydwen.gg/static/c746ac1cf15c943191df0b3f0938dec9/60b4d/62_icon.webp"},Pickles:{thumbnail:"https://www.prydwen.gg/static/b2f0e0c2a66f1d950723a013bb843f4e/60b4d/54_icon.webp"},Necrologist:{thumbnail:"https://www.prydwen.gg/static/44afab4c5d9e66ecb0f48194fbde44ba/60b4d/20_icon.webp"},"Balloon Party":{thumbnail:"https://www.prydwen.gg/static/7c5aacbd1d7debf7b5e171ef5b8eb21d/60b4d/19_icon.webp"},Bkornblume:{thumbnail:"https://www.prydwen.gg/static/f5c8a1e76ffa90a6a3cc1628543264e7/60b4d/16_icon.webp"},Spathodea:{thumbnail:"https://www.prydwen.gg/static/dbceab4cd300e4d053571a25c9ace92b/60b4d/65_icon.webp"},Sweetheart:{thumbnail:"https://www.prydwen.gg/static/ebe0a115613ed47b1bb61dda6861207d/60b4d/13_icon.webp"},Melania:{thumbnail:"https://www.prydwen.gg/static/4abbfd75d20606a1f0b2f2eb6ada77a2/60b4d/53_icon.webp"},Jessica:{thumbnail:"https://www.prydwen.gg/static/d1016961dc8a59f5bc3a3d6d62ba841b/60b4d/58_icon.webp"},"Jiu Niangzi":{thumbnail:"https://www.prydwen.gg/static/865bb8cb048103c43d16b2d45d000a4e/60b4d/69_icon.webp"},"An-an Lee":{thumbnail:"https://www.prydwen.gg/static/0b86bc3c4710ab7fb76f3c30adfd1283/60b4d/0_icon.webp"},"Ms. NewBabel":{thumbnail:"https://www.prydwen.gg/static/ac2895e23af4900d682d5fd3ebfd2bda/60b4d/11_icon.webp"},Ezra:{thumbnail:"https://www.prydwen.gg/static/8069d3e37cdd5917d78f9bd188c5e4b3/60b4d/66_icon.webp"},Shamane:{thumbnail:"https://www.prydwen.gg/static/141d00528dcb72b350cfc725386985fa/60b4d/60_icon.webp"},Leilani:{thumbnail:"https://www.prydwen.gg/static/30e7f4de8a38e2c4e5fb61ee96527b52/60b4d/41_icon.webp"},"Darley Clatter":{thumbnail:"https://www.prydwen.gg/static/e2d29a713c58c599f6a55423eb08e5fa/60b4d/45_icon.webp"}},oe=async({parent:_,params:d,url:u})=>({headers:se,characterMap:ne,categories:["f2p","ffa"],category:u.searchParams.get("category")??"f2p"}),ze=Object.freeze(Object.defineProperty({__proto__:null,load:oe},Symbol.toStringTag,{value:"Module"}));function le(_,d){const u=new URLSearchParams(window.location.search);u.set("category",_.currentTarget.value);const C=new URL(window.location.toString());C.search=u.toString(),console.log(C.toString()),d(C.toString())}function ie(_){_.stopPropagation();const d=_.currentTarget.closest(".character");d&&(d.dataset.current=d.dataset.state==="open"?"inactive":"active",document.querySelectorAll('.character[data-state="open"]:not([data-current="inactive"])').forEach(C=>{C.dataset.state="close"}),d.dataset.state=d.dataset.state==="open"?"close":"open")}var ce=f('<option class="svelte-pt40hr"> </option>'),de=(_,d,u)=>d(u().toLowerCase()),pe=f('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-up w-4 h-4 svelte-pt40hr"><path d="m18 15-6-6-6 6" class="svelte-pt40hr"></path></svg>'),ve=f('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down w-4 h-4 svelte-pt40hr"><path d="m6 9 6 6 6-6" class="svelte-pt40hr"></path></svg>'),he=f('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevrons-up-down w-4 h-4 svelte-pt40hr"><path d="m7 15 5 5 5-5" class="svelte-pt40hr"></path><path d="m7 9 5-5 5 5" class="svelte-pt40hr"></path></svg>'),we=f('<th scope="col" class="sticky top-0 text-lg whitespace-nowrap text-white bg-tuscany-600 svelte-pt40hr"><button type="button" class="flex items-center gap-1 outline-none hover:bg-tuscany-500 focus:bg-tuscany-500 px-4 py-2 svelte-pt40hr"><span class="svelte-pt40hr"> </span> <!></button></th>'),be=f('<th scope="col" class="sticky top-0 px-4 py-2 text-lg whitespace-nowrap text-white bg-tuscany-600 svelte-pt40hr"> </th>'),ue=f('<div data-state="close" data-current="inactive" class="character group dropdown relative svelte-pt40hr"><button aria-label="Toggle team info" type="button" class="outline-none svelte-pt40hr"><img loading="lazy" width="40" height="40" class="inline w-10 h-10 svelte-pt40hr"></button> <div class="dropdown-content group-data-[state=close]:hidden absolute left-1/2 -translate-x-1/2 z-10 text-white bg-tuscany-600 p-2 space-y-2 svelte-pt40hr"><div class="crimson-text-bold tracking-wide svelte-pt40hr"> </div> <ul class="text-sm svelte-pt40hr"><li class="flex items-center justify-between flex-nowrap whitespace-nowrap space-x-4 svelte-pt40hr"><div class="svelte-pt40hr">Resonance level</div> <div class="svelte-pt40hr"> </div></li> <li class="flex items-center justify-between flex-nowrap whitespace-nowrap space-x-4 svelte-pt40hr"><div class="svelte-pt40hr">Portray</div> <div class="svelte-pt40hr"> </div></li> <li class="flex items-center justify-between flex-nowrap whitespace-nowrap space-x-4 svelte-pt40hr"><div class="svelte-pt40hr">Amplification</div> <div class="svelte-pt40hr"> </div></li></ul></div></div>'),ge=f('<tr class="raid-entry odd:bg-tuscany-200 even:bg-tuscany-100 svelte-pt40hr"><td class="raid-entry-rank px-4 py-2 dark:text-slate-800 svelte-pt40hr"></td><td class="raid-entry-username px-4 py-2 dark:text-slate-800 svelte-pt40hr"> </td><td class="raid-entry-score px-4 py-2 dark:text-slate-800 svelte-pt40hr"> </td><td class="raid-entry-characters dark:text-slate-800 svelte-pt40hr"><div class="flex items-center min-w-48 px-4 py-2 svelte-pt40hr"></div></td><td class="px-4 py-2 dark:text-slate-800 svelte-pt40hr"> </td><td class="px-4 py-2 dark:text-slate-800 whitespace-nowrap svelte-pt40hr"> </td></tr>'),me=f('<tr class="svelte-pt40hr"><td colspan="6" class="skeleton crimson-text-regular tracking-wider border border-tuscany-600 svelte-pt40hr"><div class="flex items-center justify-center gap-2 py-6 svelte-pt40hr"><!> <span class="svelte-pt40hr">Loading ranking data</span></div></td></tr>'),fe=f('<main class="flex-grow space-y-6 svelte-pt40hr"><h3 class="crimson-text-bold text-tuscany-600 dark:text-white text-2xl px-10 md:px-0 svelte-pt40hr"> </h3> <div class="flex items-center gap-2 px-10 md:px-0 svelte-pt40hr"><label for="category" class="svelte-pt40hr">Category</label> <select name="category" id="category" class="appearance-none cursor-pointer text-white text-sm bg-tuscany-600 outline-none hover:bg-tuscany-500 focus:bg-tuscany-500 pl-4 pr-8 py-1 bg-[right_0.5rem_center] bg-no-repeat bg-[length:1.5em_1.5em] svelte-pt40hr"></select></div> <div class="table-container overflow-x-auto svelte-pt40hr"><table class="w-full text-left border-collapse border border-tuscany-600 svelte-pt40hr"><thead class="svelte-pt40hr"><tr class="svelte-pt40hr"></tr></thead><tbody><!></tbody></table></div></main>');function _e(_,d){Rt(d,!0);const u={};Qt(u);const C=()=>Vt(Yt,"$page",u);let v=Ht(d,"data",7),D=A(F(v().category)),y=A(void 0),W=A("pending"),x=A(F({column:"score",order:"descending"}));function lt(a,e){return a.column==="username"&&(a.order==="ascending"?e.sort((s,n)=>new Intl.Collator("en").compare(s.Username,n.Username)):e.sort((s,n)=>new Intl.Collator("en").compare(n.Username,s.Username))),a.column==="score"&&(a.order==="ascending"?e.sort((s,n)=>s.Score-n.Score):e.sort((s,n)=>n.Score-s.Score)),a.column==="entry date"&&(a.order==="ascending"?e.sort((s,n)=>s["Entry Date"].valueOf()-n["Entry Date"].valueOf()):e.sort((s,n)=>n["Entry Date"].valueOf()-s["Entry Date"].valueOf())),e}async function it(a){o(x).column===a&&(o(x).order=o(x).order==="ascending"?"descending":"ascending"),o(x).column=a}te(async()=>{M(D,F(new URL(window.location.toString()).searchParams.get("category")??"f2p")),M(y,F((await v().sheet).raidGroup.find(a=>a.toLowerCase().split(" ").join("-")===window.location.pathname.replace(`${Zt}/leaderboard/`,"").replace("/",""))))}),ae(async()=>{M(y,F((await v().sheet).raidGroup.find(a=>a.toLowerCase().split(" ").join("-")===C().params.raid))),v().sheet.then(a=>{var e,s;o(y)&&setTimeout(()=>{M(W,"resolved")},Number(((s=(e=a[o(D)][o(y)])==null?void 0:e.values)==null?void 0:s.length)??0)*410)})});var $=fe();zt(a=>{m(()=>Et.title=`${o(y)??""} | Outside the suitcase`)});var H=t($),ct=t(H),Q=r(r(H,!0)),dt=t(Q),I=r(r(dt,!0));I.__change=[le,ee],E(I,73,()=>v().categories??[],q,(a,e,s)=>{var n=ce(),h,g=t(n);m(()=>p(g,l(e).toUpperCase())),m(()=>{h!==(h=l(e))&&(n.value=(n.__value=l(e))==null?"":l(e))}),i(a,n)});var pt=r(r(Q,!0)),vt=t(pt),V=t(vt),ht=t(V),Y=(a,e)=>{let s=()=>e==null?void 0:e().name,n=It(()=>Kt(e==null?void 0:e().sortable,()=>!1));var h=k(),g=S(h);U(g,()=>o(n),w=>{var c=we(),b=t(c);b.__click=[de,it,s];var R=t(b),N=t(R),K=r(r(R,!0));U(K,()=>o(x).column===s().toLowerCase(),j=>{var P=k(),z=S(P);U(z,()=>o(x).order==="ascending",B=>{var T=pe();i(B,T)},B=>{var T=ve();i(B,T)}),i(j,P)},j=>{var P=he();i(j,P)}),m(()=>{Wt(b,"bg-tuscany-500",o(x).column===s().toLowerCase()),p(N,s())}),i(w,c)},w=>{var c=be(),b=t(c);m(()=>p(b,s())),i(w,c)}),i(a,h)};E(ht,73,()=>v().headers,q,(a,e,s)=>{var n=k(),h=S(n);U(h,()=>["Username","Score","Entry Date"].includes(l(e)),g=>{var w=k(),c=S(w);Y(c,()=>({name:l(e),sortable:!0})),i(g,w)},g=>{var w=k(),c=S(w);Y(c,()=>({name:l(e)})),i(g,w)}),i(a,n)});var Z=r(V),wt=t(Z);return Xt(wt,()=>v().sheet,a=>{var e=me(),s=t(e),n=t(s),h=t(n);re(h,{}),i(a,e)},(a,e)=>{var s=k(),n=S(s);U(n,()=>o(y),h=>{var g=k(),w=S(g);E(w,65,()=>{var c;return lt(o(x),((c=o(e)[o(D)][o(y)])==null?void 0:c.values)??[])},q,(c,b,R)=>{var N=ge();J(N,"style",`--animation-order: ${l(R)+1};`);var K=t(N),j=r(K),P=t(j),z=r(j),B=t(z);m(()=>p(B,l(b).Score.toLocaleString()));var T=r(z),bt=t(T);E(bt,73,()=>l(b).characters,q,(ft,L,xe)=>{var et=k(),_t=S(et);U(_t,()=>{var O;return(O=v().characterMap)==null?void 0:O[l(L).Name]},O=>{var at=ue(),X=t(at);X.__click=[ie];var G=t(X),yt=r(r(X,!0)),rt=t(yt),xt=t(rt),kt=r(r(rt,!0)),st=t(kt),St=t(st),Ct=r(r(St,!0)),Lt=t(Ct),nt=r(r(st,!0)),jt=t(nt),Pt=r(r(jt,!0)),Tt=t(Pt),Ut=r(r(nt,!0)),Dt=t(Ut),Nt=r(r(Dt,!0)),Bt=t(Nt);m(()=>{var ot;J(G,"src",((ot=v().characterMap[l(L).Name])==null?void 0:ot.thumbnail)??""),J(G,"alt",l(L).Name),p(xt,l(L).Name),p(Lt,l(L).Resonance),p(Tt,l(L).Portray),p(Bt,l(L).Amplification)}),Gt(G),i(O,at)}),i(ft,et)});var tt=r(T),ut=t(tt),gt=r(tt),mt=t(gt);m(()=>p(mt,l(b)["Entry Date"].toLocaleDateString("en-CA"))),m(()=>{p(P,l(b).Username),p(ut,l(b)["Entry Tag"])}),i(c,N)}),i(h,g)}),i(a,s)}),m(()=>{p(ct,o(y)??"Raid Title"),Jt(Z,`${(o(W)==="pending"?"loading":"loaded")??""} svelte-pt40hr`)}),$t(I,()=>o(D),a=>M(D,a)),i(_,$),Ot(_,"svelte-pt40hr",`
    .table-container.svelte-pt40hr:has([data-state=open]) {
        overflow: visible!important;
    }

    table.svelte-pt40hr {
        counter-reset: ranking;
    }

    table.svelte-pt40hr > tbody:where(.svelte-pt40hr) tr > td:where(.svelte-pt40hr):first-child:not(.skeleton)::before {
        counter-increment: ranking;
        content: counter(ranking);
    }

    table.svelte-pt40hr > tbody:where(.svelte-pt40hr) tr:where(.svelte-pt40hr):last-of-type .dropdown-content:where(.svelte-pt40hr) {
        bottom: 100%
    }

    select.svelte-pt40hr {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    }

    table.svelte-pt40hr > tbody:where(.svelte-pt40hr):is(.loading:where(.svelte-pt40hr)) .raid-entry:where(.svelte-pt40hr) {
        opacity: 0;
        /* transform: translateX(-1rem); */
        animation-name: svelte-pt40hr-fade-in;
        animation-duration: 400ms;
        animation-timing-function: ease-in;
        animation-delay: calc(200ms * var(--animation-order));
        animation-fill-mode: forwards;
    }

    @keyframes svelte-pt40hr-fade-in {
        0% {
            opacity: 0;
            /* transform: translateX(-1rem); */
        }
        100% {
            opacity: 1;
            /* transform: translateX(0); */
        }
    }
`),At({get data(){return v()},set data(a){v(a),qt()}})}Ft(["change","click"]);Mt(_e,{data:{}},[],[],!0);export{_e as component,ze as universal};
//# sourceMappingURL=10.1eO42MVL.js.map
